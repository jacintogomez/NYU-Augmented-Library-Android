{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport { useCallback, useEffect, useRef, useState } from 'react';\nimport inRange from 'lodash/inRange';\nimport times from 'lodash/times';\nimport debounce from 'lodash/debounce';\nimport constants from \"../commons/constants\";\nimport { generateDay } from \"../dateutils\";\nexport var PAGES_COUNT = 100;\nexport var NEAR_EDGE_THRESHOLD = 10;\nexport var INITIAL_PAGE = Math.floor(PAGES_COUNT / 2);\n\nvar UseTimelinePages = function UseTimelinePages(_ref) {\n  var date = _ref.date,\n      listRef = _ref.listRef,\n      numberOfDays = _ref.numberOfDays;\n  var pagesRef = useRef(times(PAGES_COUNT, function (i) {\n    return generateDay(date, numberOfDays * (i - Math.floor(PAGES_COUNT / 2)));\n  }));\n\n  var _useState = useState(pagesRef.current),\n      _useState2 = _slicedToArray(_useState, 2),\n      pages = _useState2[0],\n      setPages = _useState2[1];\n\n  var shouldResetPages = useRef(false);\n  useEffect(function () {\n    var updatedDays = times(PAGES_COUNT, function (i) {\n      return generateDay(date, numberOfDays * (i - Math.floor(PAGES_COUNT / 2)));\n    });\n    pagesRef.current = updatedDays;\n    setPages(updatedDays);\n  }, [numberOfDays]);\n  var isOutOfRange = useCallback(function (index) {\n    return !inRange(index, 0, PAGES_COUNT);\n  }, []);\n  var isNearEdges = useCallback(function (index) {\n    return !inRange(index, NEAR_EDGE_THRESHOLD, PAGES_COUNT - NEAR_EDGE_THRESHOLD);\n  }, []);\n  var isOnEdgePages = useCallback(function (index) {\n    return !inRange(index, 1, PAGES_COUNT - 1);\n  }, []);\n\n  var scrollToPage = function scrollToPage(pageIndex) {\n    var _listRef$current;\n\n    (_listRef$current = listRef.current) == null ? void 0 : _listRef$current.scrollToOffset(pageIndex * constants.screenWidth, 0, false);\n  };\n\n  var resetPages = function resetPages(date) {\n    pagesRef.current = times(PAGES_COUNT, function (i) {\n      return generateDay(date, numberOfDays * (i - Math.floor(PAGES_COUNT / 2)));\n    });\n    setPages(pagesRef.current);\n    setTimeout(function () {\n      scrollToPage(INITIAL_PAGE);\n      shouldResetPages.current = false;\n    }, 0);\n  };\n\n  return {\n    resetPages: useCallback(resetPages, []),\n    resetPagesDebounce: useCallback(debounce(resetPages, 500, {\n      leading: false,\n      trailing: true\n    }), []),\n    scrollToPage: useCallback(scrollToPage, []),\n    scrollToPageDebounce: useCallback(debounce(scrollToPage, 250, {\n      leading: false,\n      trailing: true\n    }), []),\n    pagesRef: pagesRef,\n    pages: pages,\n    shouldResetPages: shouldResetPages,\n    isOutOfRange: isOutOfRange,\n    isNearEdges: isNearEdges,\n    isOnEdgePages: isOnEdgePages\n  };\n};\n\nexport default UseTimelinePages;","map":{"version":3,"sources":["C:/Users/Eileen Twimasi/WebstormProjects/NYU-Library-Frontend/node_modules/react-native-calendars/src/timeline-list/useTimelinePages.js"],"names":["useCallback","useEffect","useRef","useState","inRange","times","debounce","constants","generateDay","PAGES_COUNT","NEAR_EDGE_THRESHOLD","INITIAL_PAGE","Math","floor","UseTimelinePages","date","listRef","numberOfDays","pagesRef","i","current","pages","setPages","shouldResetPages","updatedDays","isOutOfRange","index","isNearEdges","isOnEdgePages","scrollToPage","pageIndex","scrollToOffset","screenWidth","resetPages","setTimeout","resetPagesDebounce","leading","trailing","scrollToPageDebounce"],"mappings":";AAAA,SAASA,WAAT,EAAsBC,SAAtB,EAAiCC,MAAjC,EAAyCC,QAAzC,QAAyD,OAAzD;AACA,OAAOC,OAAP,MAAoB,gBAApB;AACA,OAAOC,KAAP,MAAkB,cAAlB;AACA,OAAOC,QAAP,MAAqB,iBAArB;AACA,OAAOC,SAAP;AACA,SAASC,WAAT;AACA,OAAO,IAAMC,WAAW,GAAG,GAApB;AACP,OAAO,IAAMC,mBAAmB,GAAG,EAA5B;AACP,OAAO,IAAMC,YAAY,GAAGC,IAAI,CAACC,KAAL,CAAWJ,WAAW,GAAG,CAAzB,CAArB;;AACP,IAAMK,gBAAgB,GAAG,SAAnBA,gBAAmB,OAAqC;AAAA,MAAlCC,IAAkC,QAAlCA,IAAkC;AAAA,MAA5BC,OAA4B,QAA5BA,OAA4B;AAAA,MAAnBC,YAAmB,QAAnBA,YAAmB;AAC1D,MAAMC,QAAQ,GAAGhB,MAAM,CAACG,KAAK,CAACI,WAAD,EAAc,UAAAU,CAAC,EAAI;AAC5C,WAAOX,WAAW,CAACO,IAAD,EAAOE,YAAY,IAAIE,CAAC,GAAGP,IAAI,CAACC,KAAL,CAAWJ,WAAW,GAAG,CAAzB,CAAR,CAAnB,CAAlB;AACH,GAF4B,CAAN,CAAvB;;AAGA,kBAA0BN,QAAQ,CAACe,QAAQ,CAACE,OAAV,CAAlC;AAAA;AAAA,MAAOC,KAAP;AAAA,MAAcC,QAAd;;AACA,MAAMC,gBAAgB,GAAGrB,MAAM,CAAC,KAAD,CAA/B;AACAD,EAAAA,SAAS,CAAC,YAAM;AACZ,QAAMuB,WAAW,GAAGnB,KAAK,CAACI,WAAD,EAAc,UAAAU,CAAC,EAAI;AACxC,aAAOX,WAAW,CAACO,IAAD,EAAOE,YAAY,IAAIE,CAAC,GAAGP,IAAI,CAACC,KAAL,CAAWJ,WAAW,GAAG,CAAzB,CAAR,CAAnB,CAAlB;AACH,KAFwB,CAAzB;AAGAS,IAAAA,QAAQ,CAACE,OAAT,GAAmBI,WAAnB;AACAF,IAAAA,QAAQ,CAACE,WAAD,CAAR;AACH,GANQ,EAMN,CAACP,YAAD,CANM,CAAT;AAOA,MAAMQ,YAAY,GAAGzB,WAAW,CAAC,UAAC0B,KAAD,EAAW;AACxC,WAAO,CAACtB,OAAO,CAACsB,KAAD,EAAQ,CAAR,EAAWjB,WAAX,CAAf;AACH,GAF+B,EAE7B,EAF6B,CAAhC;AAGA,MAAMkB,WAAW,GAAG3B,WAAW,CAAC,UAAA0B,KAAK,EAAI;AACrC,WAAO,CAACtB,OAAO,CAACsB,KAAD,EAAQhB,mBAAR,EAA6BD,WAAW,GAAGC,mBAA3C,CAAf;AACH,GAF8B,EAE5B,EAF4B,CAA/B;AAGA,MAAMkB,aAAa,GAAG5B,WAAW,CAAC,UAAA0B,KAAK,EAAI;AACvC,WAAO,CAACtB,OAAO,CAACsB,KAAD,EAAQ,CAAR,EAAWjB,WAAW,GAAG,CAAzB,CAAf;AACH,GAFgC,EAE9B,EAF8B,CAAjC;;AAGA,MAAMoB,YAAY,GAAG,SAAfA,YAAe,CAACC,SAAD,EAAe;AAAA;;AAChC,wBAAAd,OAAO,CAACI,OAAR,sCAAiBW,cAAjB,CAAgCD,SAAS,GAAGvB,SAAS,CAACyB,WAAtD,EAAmE,CAAnE,EAAsE,KAAtE;AACH,GAFD;;AAGA,MAAMC,UAAU,GAAG,SAAbA,UAAa,CAAClB,IAAD,EAAU;AACzBG,IAAAA,QAAQ,CAACE,OAAT,GAAmBf,KAAK,CAACI,WAAD,EAAc,UAAAU,CAAC,EAAI;AACvC,aAAOX,WAAW,CAACO,IAAD,EAAOE,YAAY,IAAIE,CAAC,GAAGP,IAAI,CAACC,KAAL,CAAWJ,WAAW,GAAG,CAAzB,CAAR,CAAnB,CAAlB;AACH,KAFuB,CAAxB;AAGAa,IAAAA,QAAQ,CAACJ,QAAQ,CAACE,OAAV,CAAR;AACAc,IAAAA,UAAU,CAAC,YAAM;AACbL,MAAAA,YAAY,CAAClB,YAAD,CAAZ;AACAY,MAAAA,gBAAgB,CAACH,OAAjB,GAA2B,KAA3B;AACH,KAHS,EAGP,CAHO,CAAV;AAIH,GATD;;AAUA,SAAO;AACHa,IAAAA,UAAU,EAAEjC,WAAW,CAACiC,UAAD,EAAa,EAAb,CADpB;AAEHE,IAAAA,kBAAkB,EAAEnC,WAAW,CAACM,QAAQ,CAAC2B,UAAD,EAAa,GAAb,EAAkB;AAAEG,MAAAA,OAAO,EAAE,KAAX;AAAkBC,MAAAA,QAAQ,EAAE;AAA5B,KAAlB,CAAT,EAAgE,EAAhE,CAF5B;AAGHR,IAAAA,YAAY,EAAE7B,WAAW,CAAC6B,YAAD,EAAe,EAAf,CAHtB;AAIHS,IAAAA,oBAAoB,EAAEtC,WAAW,CAACM,QAAQ,CAACuB,YAAD,EAAe,GAAf,EAAoB;AAAEO,MAAAA,OAAO,EAAE,KAAX;AAAkBC,MAAAA,QAAQ,EAAE;AAA5B,KAApB,CAAT,EAAkE,EAAlE,CAJ9B;AAKHnB,IAAAA,QAAQ,EAARA,QALG;AAMHG,IAAAA,KAAK,EAALA,KANG;AAOHE,IAAAA,gBAAgB,EAAhBA,gBAPG;AAQHE,IAAAA,YAAY,EAAZA,YARG;AASHE,IAAAA,WAAW,EAAXA,WATG;AAUHC,IAAAA,aAAa,EAAbA;AAVG,GAAP;AAYH,CA/CD;;AAgDA,eAAed,gBAAf","sourcesContent":["import { useCallback, useEffect, useRef, useState } from 'react';\nimport inRange from 'lodash/inRange';\nimport times from 'lodash/times';\nimport debounce from 'lodash/debounce';\nimport constants from '../commons/constants';\nimport { generateDay } from '../dateutils';\nexport const PAGES_COUNT = 100;\nexport const NEAR_EDGE_THRESHOLD = 10;\nexport const INITIAL_PAGE = Math.floor(PAGES_COUNT / 2);\nconst UseTimelinePages = ({ date, listRef, numberOfDays }) => {\n    const pagesRef = useRef(times(PAGES_COUNT, i => {\n        return generateDay(date, numberOfDays * (i - Math.floor(PAGES_COUNT / 2)));\n    }));\n    const [pages, setPages] = useState(pagesRef.current);\n    const shouldResetPages = useRef(false);\n    useEffect(() => {\n        const updatedDays = times(PAGES_COUNT, i => {\n            return generateDay(date, numberOfDays * (i - Math.floor(PAGES_COUNT / 2)));\n        });\n        pagesRef.current = updatedDays;\n        setPages(updatedDays);\n    }, [numberOfDays]);\n    const isOutOfRange = useCallback((index) => {\n        return !inRange(index, 0, PAGES_COUNT);\n    }, []);\n    const isNearEdges = useCallback(index => {\n        return !inRange(index, NEAR_EDGE_THRESHOLD, PAGES_COUNT - NEAR_EDGE_THRESHOLD);\n    }, []);\n    const isOnEdgePages = useCallback(index => {\n        return !inRange(index, 1, PAGES_COUNT - 1);\n    }, []);\n    const scrollToPage = (pageIndex) => {\n        listRef.current?.scrollToOffset(pageIndex * constants.screenWidth, 0, false);\n    };\n    const resetPages = (date) => {\n        pagesRef.current = times(PAGES_COUNT, i => {\n            return generateDay(date, numberOfDays * (i - Math.floor(PAGES_COUNT / 2)));\n        });\n        setPages(pagesRef.current);\n        setTimeout(() => {\n            scrollToPage(INITIAL_PAGE);\n            shouldResetPages.current = false;\n        }, 0);\n    };\n    return {\n        resetPages: useCallback(resetPages, []),\n        resetPagesDebounce: useCallback(debounce(resetPages, 500, { leading: false, trailing: true }), []),\n        scrollToPage: useCallback(scrollToPage, []),\n        scrollToPageDebounce: useCallback(debounce(scrollToPage, 250, { leading: false, trailing: true }), []),\n        pagesRef,\n        pages,\n        shouldResetPages,\n        isOutOfRange,\n        isNearEdges,\n        isOnEdgePages\n    };\n};\nexport default UseTimelinePages;\n"]},"metadata":{},"sourceType":"module"}