{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/extends\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/objectWithoutProperties\";\nvar _excluded = [\"initialPosition\", \"onCalendarToggled\", \"disablePan\", \"hideKnob\", \"leftArrowImageSource\", \"rightArrowImageSource\", \"allowShadow\", \"disableWeekScroll\", \"openThreshold\", \"closeThreshold\", \"closeOnDayPress\", \"horizontal\", \"calendarStyle\", \"theme\", \"style\", \"firstDay\", \"onDayPress\", \"hideArrows\", \"onPressArrowLeft\", \"onPressArrowRight\", \"renderArrow\", \"testID\"];\nimport first from 'lodash/first';\nimport isFunction from 'lodash/isFunction';\nimport isNumber from 'lodash/isNumber';\nimport throttle from 'lodash/throttle';\nimport XDate from 'xdate';\nimport React, { useContext, useRef, useState, useEffect, useCallback, useMemo } from 'react';\nimport AccessibilityInfo from \"react-native-web/dist/exports/AccessibilityInfo\";\nimport PanResponder from \"react-native-web/dist/exports/PanResponder\";\nimport Animated from \"react-native-web/dist/exports/Animated\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport { page } from \"../dateutils\";\nimport { parseDate, toMarkingFormat } from \"../interface\";\nimport styleConstructor, { HEADER_HEIGHT, KNOB_CONTAINER_HEIGHT } from \"./style\";\nimport WeekDaysNames from \"../commons/WeekDaysNames\";\nimport Calendar from \"../calendar\";\nimport CalendarList from \"../calendar-list\";\nimport Week from \"./week\";\nimport WeekCalendar from \"./WeekCalendar\";\nimport Context from \"./Context\";\nimport constants from \"../commons/constants\";\nimport { UpdateSources } from \"./commons\";\nexport var Positions;\n\n(function (Positions) {\n  Positions[\"CLOSED\"] = \"closed\";\n  Positions[\"OPEN\"] = \"open\";\n})(Positions || (Positions = {}));\n\nvar SPEED = 20;\nvar BOUNCINESS = 6;\nvar CLOSED_HEIGHT = 120;\nvar WEEK_HEIGHT = 46;\nvar DAY_NAMES_PADDING = 24;\nvar PAN_GESTURE_THRESHOLD = 30;\n\nvar LEFT_ARROW = require(\"../calendar/img/previous.png\");\n\nvar RIGHT_ARROW = require(\"../calendar/img/next.png\");\n\nvar knobHitSlop = {\n  left: 10,\n  right: 10,\n  top: 10,\n  bottom: 10\n};\nvar headerStyleOverride = {\n  stylesheet: {\n    calendar: {\n      header: {\n        week: {\n          marginTop: 7,\n          marginBottom: -4,\n          flexDirection: 'row',\n          justifyContent: 'space-around'\n        }\n      }\n    }\n  }\n};\n\nvar ExpandableCalendar = function ExpandableCalendar(props) {\n  var _useContext = useContext(Context),\n      date = _useContext.date,\n      setDate = _useContext.setDate,\n      numberOfDays = _useContext.numberOfDays,\n      timelineLeftInset = _useContext.timelineLeftInset;\n\n  var _props$initialPositio = props.initialPosition,\n      initialPosition = _props$initialPositio === void 0 ? Positions.CLOSED : _props$initialPositio,\n      onCalendarToggled = props.onCalendarToggled,\n      disablePan = props.disablePan,\n      _props$hideKnob = props.hideKnob,\n      hideKnob = _props$hideKnob === void 0 ? numberOfDays && numberOfDays > 1 : _props$hideKnob,\n      _props$leftArrowImage = props.leftArrowImageSource,\n      leftArrowImageSource = _props$leftArrowImage === void 0 ? LEFT_ARROW : _props$leftArrowImage,\n      _props$rightArrowImag = props.rightArrowImageSource,\n      rightArrowImageSource = _props$rightArrowImag === void 0 ? RIGHT_ARROW : _props$rightArrowImag,\n      _props$allowShadow = props.allowShadow,\n      allowShadow = _props$allowShadow === void 0 ? true : _props$allowShadow,\n      disableWeekScroll = props.disableWeekScroll,\n      _props$openThreshold = props.openThreshold,\n      openThreshold = _props$openThreshold === void 0 ? PAN_GESTURE_THRESHOLD : _props$openThreshold,\n      _props$closeThreshold = props.closeThreshold,\n      closeThreshold = _props$closeThreshold === void 0 ? PAN_GESTURE_THRESHOLD : _props$closeThreshold,\n      _props$closeOnDayPres = props.closeOnDayPress,\n      closeOnDayPress = _props$closeOnDayPres === void 0 ? true : _props$closeOnDayPres,\n      _props$horizontal = props.horizontal,\n      horizontal = _props$horizontal === void 0 ? true : _props$horizontal,\n      calendarStyle = props.calendarStyle,\n      theme = props.theme,\n      propsStyle = props.style,\n      _props$firstDay = props.firstDay,\n      firstDay = _props$firstDay === void 0 ? 0 : _props$firstDay,\n      onDayPress = props.onDayPress,\n      hideArrows = props.hideArrows,\n      onPressArrowLeft = props.onPressArrowLeft,\n      onPressArrowRight = props.onPressArrowRight,\n      renderArrow = props.renderArrow,\n      testID = props.testID,\n      others = _objectWithoutProperties(props, _excluded);\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      screenReaderEnabled = _useState2[0],\n      setScreenReaderEnabled = _useState2[1];\n\n  var getYear = function getYear(date) {\n    var d = new XDate(date);\n    return d.getFullYear();\n  };\n\n  var getMonth = function getMonth(date) {\n    var d = new XDate(date);\n    return d.getMonth() + 1;\n  };\n\n  var visibleMonth = useRef(getMonth(date));\n  var visibleYear = useRef(getYear(date));\n\n  var isLaterDate = function isLaterDate(date1, date2) {\n    if (date1 && date2) {\n      if (date1.year > getYear(date2)) {\n        return true;\n      }\n\n      if (date1.year === getYear(date2)) {\n        if (date1.month > getMonth(date2)) {\n          return true;\n        }\n      }\n    }\n\n    return false;\n  };\n\n  var getNumberOfWeeksInMonth = function getNumberOfWeeksInMonth(month) {\n    var days = page(new XDate(month), firstDay);\n    return days.length / 7;\n  };\n\n  var numberOfWeeks = useRef(getNumberOfWeeksInMonth(date));\n\n  var _useState3 = useState(initialPosition),\n      _useState4 = _slicedToArray(_useState3, 2),\n      position = _useState4[0],\n      setPosition = _useState4[1];\n\n  var isOpen = position === Positions.OPEN;\n\n  var getOpenHeight = function getOpenHeight() {\n    if (!horizontal) {\n      return Math.max(constants.screenHeight, constants.screenWidth);\n    }\n\n    return CLOSED_HEIGHT + WEEK_HEIGHT * (numberOfWeeks.current - 1) + (hideKnob ? 12 : KNOB_CONTAINER_HEIGHT) + (constants.isAndroid ? 3 : 0);\n  };\n\n  var openHeight = useRef(getOpenHeight());\n  var closedHeight = useMemo(function () {\n    return CLOSED_HEIGHT + (hideKnob || Number(numberOfDays) > 1 ? 0 : KNOB_CONTAINER_HEIGHT);\n  }, [numberOfDays, hideKnob]);\n  var startHeight = useMemo(function () {\n    return isOpen ? openHeight.current : closedHeight;\n  }, [closedHeight, isOpen]);\n\n  var _height = useRef(startHeight);\n\n  var deltaY = useMemo(function () {\n    return new Animated.Value(startHeight);\n  }, [startHeight]);\n  useEffect(function () {\n    _height.current = startHeight;\n    deltaY.setValue(startHeight);\n  }, [startHeight]);\n  var headerDeltaY = useRef(new Animated.Value(isOpen ? -HEADER_HEIGHT : 0));\n  var wrapper = useRef();\n  var calendarList = useRef();\n  var header = useRef();\n  var weekCalendarWrapper = useRef();\n  var style = useRef(styleConstructor(theme));\n\n  var themeObject = _extends(headerStyleOverride, theme);\n\n  var _wrapperStyles = useRef({\n    style: {\n      height: startHeight\n    }\n  });\n\n  var _headerStyles = {\n    style: {\n      top: isOpen ? -HEADER_HEIGHT : 0\n    }\n  };\n  var _weekCalendarStyles = {\n    style: {\n      opacity: isOpen ? 0 : 1\n    }\n  };\n  var shouldHideArrows = !horizontal ? true : hideArrows || false;\n\n  var updateNativeStyles = function updateNativeStyles() {\n    var _wrapper$current;\n\n    wrapper == null ? void 0 : (_wrapper$current = wrapper.current) == null ? void 0 : _wrapper$current.setNativeProps(_wrapperStyles.current);\n\n    if (!horizontal) {\n      var _header$current;\n\n      header == null ? void 0 : (_header$current = header.current) == null ? void 0 : _header$current.setNativeProps(_headerStyles);\n    } else {\n      var _weekCalendarWrapper$;\n\n      weekCalendarWrapper == null ? void 0 : (_weekCalendarWrapper$ = weekCalendarWrapper.current) == null ? void 0 : _weekCalendarWrapper$.setNativeProps(_weekCalendarStyles);\n    }\n  };\n\n  var weekDaysStyle = useMemo(function () {\n    var leftPaddings = calendarStyle == null ? void 0 : calendarStyle.paddingLeft;\n    var rightPaddings = calendarStyle == null ? void 0 : calendarStyle.paddingRight;\n    return [style.current.weekDayNames, {\n      paddingLeft: isNumber(leftPaddings) ? leftPaddings + 6 : DAY_NAMES_PADDING,\n      paddingRight: isNumber(rightPaddings) ? rightPaddings + 6 : DAY_NAMES_PADDING\n    }];\n  }, [calendarStyle]);\n  var animatedHeaderStyle = useMemo(function () {\n    return [style.current.header, {\n      height: HEADER_HEIGHT + 10,\n      top: headerDeltaY.current\n    }];\n  }, [headerDeltaY.current]);\n  var weekCalendarStyle = useMemo(function () {\n    return [style.current.weekContainer, isOpen ? style.current.hidden : style.current.visible];\n  }, [isOpen]);\n  var containerStyle = useMemo(function () {\n    return [allowShadow && style.current.containerShadow, propsStyle];\n  }, [allowShadow, propsStyle]);\n  var wrapperStyle = useMemo(function () {\n    return {\n      height: deltaY\n    };\n  }, [deltaY]);\n  useEffect(function () {\n    if (AccessibilityInfo) {\n      if (AccessibilityInfo.isScreenReaderEnabled) {\n        AccessibilityInfo.isScreenReaderEnabled().then(handleScreenReaderStatus);\n      } else if (AccessibilityInfo.fetch) {\n        AccessibilityInfo.fetch().then(handleScreenReaderStatus);\n      }\n    }\n  }, []);\n  useEffect(function () {\n    scrollToDate(date);\n  }, [date]);\n\n  var handleScreenReaderStatus = function handleScreenReaderStatus(screenReaderEnabled) {\n    setScreenReaderEnabled(screenReaderEnabled);\n  };\n\n  var scrollToDate = function scrollToDate(date) {\n    if (!horizontal) {\n      var _calendarList$current;\n\n      calendarList == null ? void 0 : (_calendarList$current = calendarList.current) == null ? void 0 : _calendarList$current.scrollToDay(date, 0, true);\n    } else if (getYear(date) !== visibleYear.current || getMonth(date) !== visibleMonth.current) {\n      var _calendarList$current2;\n\n      calendarList == null ? void 0 : (_calendarList$current2 = calendarList.current) == null ? void 0 : _calendarList$current2.scrollToMonth(date);\n    }\n  };\n\n  var scrollPage = useCallback(function (next) {\n    if (horizontal) {\n      var d = parseDate(date);\n\n      if (isOpen) {\n        d.setDate(1);\n        d.addMonths(next ? 1 : -1);\n      } else {\n        var dayOfTheWeek = d.getDay();\n\n        if (dayOfTheWeek < firstDay && firstDay > 0) {\n          dayOfTheWeek = 7 + dayOfTheWeek;\n        }\n\n        if (numberOfDays) {\n          var daysToAdd = numberOfDays <= 1 ? 7 : numberOfDays;\n          d.addDays(next ? daysToAdd : -daysToAdd);\n        } else {\n          var firstDayOfWeek = (next ? 7 : -7) - dayOfTheWeek + firstDay;\n          d.addDays(firstDayOfWeek);\n        }\n      }\n\n      setDate == null ? void 0 : setDate(toMarkingFormat(d), UpdateSources.PAGE_SCROLL);\n    }\n  }, [horizontal, isOpen, firstDay, numberOfDays, setDate, date]);\n\n  var handleMoveShouldSetPanResponder = function handleMoveShouldSetPanResponder(_, gestureState) {\n    if (disablePan) {\n      return false;\n    }\n\n    if (!horizontal && isOpen) {\n      return false;\n    }\n\n    if (!isOpen && gestureState.dy < 0) {\n      return false;\n    }\n\n    return gestureState.dy > 5 || gestureState.dy < -5;\n  };\n\n  var handlePanResponderMove = function handlePanResponderMove(_, gestureState) {\n    _wrapperStyles.current.style.height = Math.max(closedHeight, _height.current + gestureState.dy);\n\n    if (!horizontal) {\n      _headerStyles.style.top = Math.min(Math.max(-gestureState.dy, -HEADER_HEIGHT), 0);\n    } else {\n      if (!isOpen) {\n        _weekCalendarStyles.style.opacity = Math.min(1, Math.max(1 - gestureState.dy / 100, 0));\n      }\n    }\n\n    updateNativeStyles();\n  };\n\n  var handlePanResponderEnd = function handlePanResponderEnd() {\n    _height.current = Number(_wrapperStyles.current.style.height);\n    bounceToPosition();\n  };\n\n  var numberOfDaysCondition = useMemo(function () {\n    return !numberOfDays || numberOfDays && numberOfDays <= 1;\n  }, [numberOfDays]);\n  var panResponder = useMemo(function () {\n    return numberOfDaysCondition ? PanResponder.create({\n      onMoveShouldSetPanResponder: handleMoveShouldSetPanResponder,\n      onPanResponderMove: handlePanResponderMove,\n      onPanResponderRelease: handlePanResponderEnd,\n      onPanResponderTerminate: handlePanResponderEnd\n    }) : PanResponder.create({});\n  }, [numberOfDays]);\n\n  var bounceToPosition = function bounceToPosition() {\n    var toValue = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n\n    if (!disablePan) {\n      var threshold = isOpen ? openHeight.current - closeThreshold : closedHeight + openThreshold;\n\n      var _isOpen = _height.current >= threshold;\n\n      var newValue = _isOpen ? openHeight.current : closedHeight;\n      deltaY.setValue(_height.current);\n      _height.current = toValue || newValue;\n      _isOpen = _height.current >= threshold;\n      Animated.spring(deltaY, {\n        toValue: _height.current,\n        speed: SPEED,\n        bounciness: BOUNCINESS,\n        useNativeDriver: false\n      }).start();\n      onCalendarToggled == null ? void 0 : onCalendarToggled(_isOpen);\n      setPosition(function () {\n        return _height.current === closedHeight ? Positions.CLOSED : Positions.OPEN;\n      });\n      closeHeader(_isOpen);\n      resetWeekCalendarOpacity(_isOpen);\n    }\n  };\n\n  var resetWeekCalendarOpacity = function resetWeekCalendarOpacity(isOpen) {\n    _weekCalendarStyles.style.opacity = isOpen ? 0 : 1;\n    updateNativeStyles();\n  };\n\n  var closeHeader = function closeHeader(isOpen) {\n    headerDeltaY.current.setValue(Number(_headerStyles.style.top));\n\n    if (!horizontal && !isOpen) {\n      Animated.spring(headerDeltaY.current, {\n        toValue: 0,\n        speed: SPEED / 10,\n        bounciness: 1,\n        useNativeDriver: false\n      }).start();\n    }\n  };\n\n  var closeCalendar = useCallback(function () {\n    setTimeout(function () {\n      if (isOpen) {\n        bounceToPosition(closedHeight);\n      }\n    }, 0);\n  }, [isOpen, closedHeight]);\n  var toggleCalendarPosition = useCallback(function () {\n    bounceToPosition(isOpen ? closedHeight : openHeight.current);\n  }, [isOpen, bounceToPosition, closedHeight]);\n\n  var _onPressArrowLeft = useCallback(function (method, month) {\n    onPressArrowLeft == null ? void 0 : onPressArrowLeft(method, month);\n    scrollPage(false);\n  }, [onPressArrowLeft, scrollPage]);\n\n  var _onPressArrowRight = useCallback(function (method, month) {\n    onPressArrowRight == null ? void 0 : onPressArrowRight(method, month);\n    scrollPage(true);\n  }, [onPressArrowRight, scrollPage]);\n\n  var _onDayPress = useCallback(function (value) {\n    if (numberOfDaysCondition) {\n      setDate == null ? void 0 : setDate(value.dateString, UpdateSources.DAY_PRESS);\n    }\n\n    if (closeOnDayPress) {\n      closeCalendar();\n    }\n\n    onDayPress == null ? void 0 : onDayPress(value);\n  }, [onDayPress, closeOnDayPress, closeCalendar, numberOfDaysCondition]);\n\n  var onVisibleMonthsChange = useCallback(throttle(function (value) {\n    var newDate = first(value);\n\n    if (newDate) {\n      var month = newDate.month;\n\n      if (month && visibleMonth.current !== month) {\n        visibleMonth.current = month;\n        var year = newDate.year;\n\n        if (year) {\n          visibleYear.current = year;\n        }\n\n        if (visibleMonth.current !== getMonth(date)) {\n          var next = isLaterDate(newDate, date);\n          scrollPage(next);\n        }\n\n        setTimeout(function () {\n          var _numberOfWeeks = getNumberOfWeeksInMonth(newDate.dateString);\n\n          if (_numberOfWeeks !== numberOfWeeks.current) {\n            numberOfWeeks.current = _numberOfWeeks;\n            openHeight.current = getOpenHeight();\n\n            if (isOpen) {\n              bounceToPosition(openHeight.current);\n            }\n          }\n        }, 0);\n      }\n    }\n  }, 100, {\n    trailing: true,\n    leading: false\n  }), [date, scrollPage]);\n\n  var _renderArrow = useCallback(function (direction) {\n    if (isFunction(renderArrow)) {\n      return renderArrow(direction);\n    }\n\n    return React.createElement(Image, {\n      source: direction === 'right' ? rightArrowImageSource : leftArrowImageSource,\n      style: style.current.arrowImage,\n      testID: testID + \".\" + direction + \"Arrow\"\n    });\n  }, [renderArrow, rightArrowImageSource, leftArrowImageSource, testID]);\n\n  var renderWeekDaysNames = function renderWeekDaysNames() {\n    return React.createElement(View, {\n      style: weekDaysStyle\n    }, React.createElement(WeekDaysNames, {\n      firstDay: firstDay,\n      style: style.current.dayHeader\n    }));\n  };\n\n  var renderAnimatedHeader = function renderAnimatedHeader() {\n    var _XDate;\n\n    var monthYear = (_XDate = new XDate(date)) == null ? void 0 : _XDate.toString('MMMM yyyy');\n    return React.createElement(Animated.View, {\n      ref: header,\n      style: animatedHeaderStyle,\n      pointerEvents: 'none'\n    }, React.createElement(Text, {\n      allowFontScaling: false,\n      style: style.current.headerTitle\n    }, monthYear), renderWeekDaysNames());\n  };\n\n  var renderKnob = function renderKnob() {\n    return React.createElement(View, {\n      style: style.current.knobContainer,\n      pointerEvents: 'box-none'\n    }, React.createElement(TouchableOpacity, {\n      style: style.current.knob,\n      testID: testID + \".knob\",\n      onPress: toggleCalendarPosition,\n      hitSlop: knobHitSlop\n    }));\n  };\n\n  var renderWeekCalendar = function renderWeekCalendar() {\n    var WeekComponent = disableWeekScroll ? Week : WeekCalendar;\n    return React.createElement(Animated.View, {\n      ref: weekCalendarWrapper,\n      style: weekCalendarStyle,\n      pointerEvents: isOpen ? 'none' : 'auto'\n    }, React.createElement(WeekComponent, _extends({\n      testID: testID + \".weekCalendar\",\n      firstDay: firstDay\n    }, others, {\n      allowShadow: disableWeekScroll ? undefined : false,\n      current: disableWeekScroll ? date : undefined,\n      theme: themeObject,\n      style: calendarStyle,\n      hideDayNames: true,\n      onDayPress: _onDayPress,\n      accessibilityElementsHidden: true,\n      importantForAccessibility: 'no-hide-descendants'\n    })));\n  };\n\n  var numberOfDaysHeaderStyle = useMemo(function () {\n    if (numberOfDays && numberOfDays > 1) {\n      return {\n        paddingHorizontal: 0\n      };\n    }\n  }, [numberOfDays]);\n\n  var _headerStyle = useMemo(function () {\n    return [numberOfDaysHeaderStyle, props.headerStyle];\n  }, [props.headerStyle, numberOfDaysHeaderStyle]);\n\n  var renderCalendarList = function renderCalendarList() {\n    return React.createElement(CalendarList, _extends({\n      testID: testID + \".calendarList\",\n      horizontal: horizontal,\n      firstDay: firstDay,\n      calendarStyle: calendarStyle\n    }, others, {\n      current: date,\n      theme: themeObject,\n      ref: calendarList,\n      onDayPress: _onDayPress,\n      onVisibleMonthsChange: onVisibleMonthsChange,\n      pagingEnabled: true,\n      scrollEnabled: isOpen,\n      hideArrows: shouldHideArrows,\n      onPressArrowLeft: _onPressArrowLeft,\n      onPressArrowRight: _onPressArrowRight,\n      hideExtraDays: !horizontal && isOpen,\n      renderArrow: _renderArrow,\n      staticHeader: true,\n      numberOfDays: numberOfDays,\n      headerStyle: _headerStyle,\n      timelineLeftInset: timelineLeftInset\n    }));\n  };\n\n  return React.createElement(View, {\n    testID: testID,\n    style: containerStyle\n  }, screenReaderEnabled ? React.createElement(Calendar, _extends({\n    testID: testID + \".calendarAccessible\"\n  }, others, {\n    theme: themeObject,\n    onDayPress: _onDayPress,\n    hideExtraDays: true,\n    renderArrow: _renderArrow\n  })) : React.createElement(Animated.View, _extends({\n    testID: testID + \".expandableContainer\",\n    ref: wrapper,\n    style: wrapperStyle\n  }, panResponder.panHandlers), renderCalendarList(), renderWeekCalendar(), !hideKnob && renderKnob(), !horizontal && renderAnimatedHeader()));\n};\n\nexport default ExpandableCalendar;\nExpandableCalendar.displayName = 'ExpandableCalendar';\nExpandableCalendar.defaultProps = {\n  horizontal: true,\n  initialPosition: Positions.CLOSED,\n  firstDay: 0,\n  leftArrowImageSource: LEFT_ARROW,\n  rightArrowImageSource: RIGHT_ARROW,\n  allowShadow: true,\n  openThreshold: PAN_GESTURE_THRESHOLD,\n  closeThreshold: PAN_GESTURE_THRESHOLD,\n  closeOnDayPress: true\n};\nExpandableCalendar.positions = Positions;","map":{"version":3,"sources":["C:/Users/Eileen Twimasi/WebstormProjects/NYU-Library-Frontend/node_modules/react-native-calendars/src/expandableCalendar/index.js"],"names":["first","isFunction","isNumber","throttle","XDate","React","useContext","useRef","useState","useEffect","useCallback","useMemo","page","parseDate","toMarkingFormat","styleConstructor","HEADER_HEIGHT","KNOB_CONTAINER_HEIGHT","WeekDaysNames","Calendar","CalendarList","Week","WeekCalendar","Context","constants","UpdateSources","Positions","SPEED","BOUNCINESS","CLOSED_HEIGHT","WEEK_HEIGHT","DAY_NAMES_PADDING","PAN_GESTURE_THRESHOLD","LEFT_ARROW","require","RIGHT_ARROW","knobHitSlop","left","right","top","bottom","headerStyleOverride","stylesheet","calendar","header","week","marginTop","marginBottom","flexDirection","justifyContent","ExpandableCalendar","props","date","setDate","numberOfDays","timelineLeftInset","initialPosition","CLOSED","onCalendarToggled","disablePan","hideKnob","leftArrowImageSource","rightArrowImageSource","allowShadow","disableWeekScroll","openThreshold","closeThreshold","closeOnDayPress","horizontal","calendarStyle","theme","propsStyle","style","firstDay","onDayPress","hideArrows","onPressArrowLeft","onPressArrowRight","renderArrow","testID","others","screenReaderEnabled","setScreenReaderEnabled","getYear","d","getFullYear","getMonth","visibleMonth","visibleYear","isLaterDate","date1","date2","year","month","getNumberOfWeeksInMonth","days","length","numberOfWeeks","position","setPosition","isOpen","OPEN","getOpenHeight","Math","max","screenHeight","screenWidth","current","isAndroid","openHeight","closedHeight","Number","startHeight","_height","deltaY","Animated","Value","setValue","headerDeltaY","wrapper","calendarList","weekCalendarWrapper","themeObject","_wrapperStyles","height","_headerStyles","_weekCalendarStyles","opacity","shouldHideArrows","updateNativeStyles","setNativeProps","weekDaysStyle","leftPaddings","paddingLeft","rightPaddings","paddingRight","weekDayNames","animatedHeaderStyle","weekCalendarStyle","weekContainer","hidden","visible","containerStyle","containerShadow","wrapperStyle","AccessibilityInfo","isScreenReaderEnabled","then","handleScreenReaderStatus","fetch","scrollToDate","scrollToDay","scrollToMonth","scrollPage","next","addMonths","dayOfTheWeek","getDay","daysToAdd","addDays","firstDayOfWeek","PAGE_SCROLL","handleMoveShouldSetPanResponder","_","gestureState","dy","handlePanResponderMove","min","handlePanResponderEnd","bounceToPosition","numberOfDaysCondition","panResponder","PanResponder","create","onMoveShouldSetPanResponder","onPanResponderMove","onPanResponderRelease","onPanResponderTerminate","toValue","threshold","_isOpen","newValue","spring","speed","bounciness","useNativeDriver","start","closeHeader","resetWeekCalendarOpacity","closeCalendar","setTimeout","toggleCalendarPosition","_onPressArrowLeft","method","_onPressArrowRight","_onDayPress","value","dateString","DAY_PRESS","onVisibleMonthsChange","newDate","_numberOfWeeks","trailing","leading","_renderArrow","direction","arrowImage","renderWeekDaysNames","dayHeader","renderAnimatedHeader","monthYear","toString","headerTitle","renderKnob","knobContainer","knob","renderWeekCalendar","WeekComponent","undefined","numberOfDaysHeaderStyle","paddingHorizontal","_headerStyle","headerStyle","renderCalendarList","panHandlers","displayName","defaultProps","positions"],"mappings":"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","sourcesContent":["import first from 'lodash/first';\nimport isFunction from 'lodash/isFunction';\nimport isNumber from 'lodash/isNumber';\nimport throttle from 'lodash/throttle';\nimport XDate from 'xdate';\nimport React, { useContext, useRef, useState, useEffect, useCallback, useMemo } from 'react';\nimport { AccessibilityInfo, PanResponder, Animated, View, Text, Image, TouchableOpacity } from 'react-native';\nimport { page } from '../dateutils';\nimport { parseDate, toMarkingFormat } from '../interface';\nimport styleConstructor, { HEADER_HEIGHT, KNOB_CONTAINER_HEIGHT } from './style';\nimport WeekDaysNames from '../commons/WeekDaysNames';\nimport Calendar from '../calendar';\nimport CalendarList from '../calendar-list';\nimport Week from './week';\nimport WeekCalendar from './WeekCalendar';\nimport Context from './Context';\nimport constants from '../commons/constants';\nimport { UpdateSources } from './commons';\nexport var Positions;\n(function (Positions) {\n    Positions[\"CLOSED\"] = \"closed\";\n    Positions[\"OPEN\"] = \"open\";\n})(Positions || (Positions = {}));\nconst SPEED = 20;\nconst BOUNCINESS = 6;\nconst CLOSED_HEIGHT = 120; // header + 1 week\nconst WEEK_HEIGHT = 46;\nconst DAY_NAMES_PADDING = 24;\nconst PAN_GESTURE_THRESHOLD = 30;\nconst LEFT_ARROW = require('../calendar/img/previous.png');\nconst RIGHT_ARROW = require('../calendar/img/next.png');\nconst knobHitSlop = { left: 10, right: 10, top: 10, bottom: 10 };\nconst headerStyleOverride = {\n    stylesheet: {\n        calendar: {\n            header: {\n                week: {\n                    marginTop: 7,\n                    marginBottom: -4,\n                    flexDirection: 'row',\n                    justifyContent: 'space-around'\n                }\n            }\n        }\n    }\n};\n/**\n * @description: Expandable calendar component\n * @note: Should be wrapped with 'CalendarProvider'\n * @extends: CalendarList\n * @extendslink: docs/CalendarList\n * @example: https://github.com/wix/react-native-calendars/blob/master/example/src/screens/expandableCalendar.js\n */\nconst ExpandableCalendar = (props) => {\n    const { date, setDate, numberOfDays, timelineLeftInset } = useContext(Context);\n    const { \n    /** ExpandableCalendar props */\n    initialPosition = Positions.CLOSED, onCalendarToggled, disablePan, hideKnob = numberOfDays && numberOfDays > 1, leftArrowImageSource = LEFT_ARROW, rightArrowImageSource = RIGHT_ARROW, allowShadow = true, disableWeekScroll, openThreshold = PAN_GESTURE_THRESHOLD, closeThreshold = PAN_GESTURE_THRESHOLD, closeOnDayPress = true, \n    /** CalendarList props */\n    horizontal = true, calendarStyle, theme, style: propsStyle, firstDay = 0, onDayPress, hideArrows, onPressArrowLeft, onPressArrowRight, renderArrow, testID, ...others } = props;\n    const [screenReaderEnabled, setScreenReaderEnabled] = useState(false);\n    /** Date */\n    const getYear = (date) => {\n        const d = new XDate(date);\n        return d.getFullYear();\n    };\n    const getMonth = (date) => {\n        const d = new XDate(date);\n        return d.getMonth() + 1; // getMonth() returns month's index' (0-11)\n    };\n    const visibleMonth = useRef(getMonth(date));\n    const visibleYear = useRef(getYear(date));\n    const isLaterDate = (date1, date2) => {\n        if (date1 && date2) {\n            if (date1.year > getYear(date2)) {\n                return true;\n            }\n            if (date1.year === getYear(date2)) {\n                if (date1.month > getMonth(date2)) {\n                    return true;\n                }\n            }\n        }\n        return false;\n    };\n    /** Number of weeks */\n    const getNumberOfWeeksInMonth = (month) => {\n        const days = page(new XDate(month), firstDay);\n        return days.length / 7;\n    };\n    const numberOfWeeks = useRef(getNumberOfWeeksInMonth(date));\n    /** Position */\n    const [position, setPosition] = useState(initialPosition);\n    const isOpen = position === Positions.OPEN;\n    const getOpenHeight = () => {\n        if (!horizontal) {\n            return Math.max(constants.screenHeight, constants.screenWidth);\n        }\n        return CLOSED_HEIGHT + (WEEK_HEIGHT * (numberOfWeeks.current - 1)) + (hideKnob ? 12 : KNOB_CONTAINER_HEIGHT) + (constants.isAndroid ? 3 : 0);\n    };\n    const openHeight = useRef(getOpenHeight());\n    const closedHeight = useMemo(() => CLOSED_HEIGHT + (hideKnob || Number(numberOfDays) > 1 ? 0 : KNOB_CONTAINER_HEIGHT), [numberOfDays, hideKnob]);\n    const startHeight = useMemo(() => isOpen ? openHeight.current : closedHeight, [closedHeight, isOpen]);\n    const _height = useRef(startHeight);\n    const deltaY = useMemo(() => new Animated.Value(startHeight), [startHeight]);\n    useEffect(() => {\n        _height.current = startHeight;\n        deltaY.setValue(startHeight);\n    }, [startHeight]);\n    const headerDeltaY = useRef(new Animated.Value(isOpen ? -HEADER_HEIGHT : 0));\n    /** Components' refs */\n    const wrapper = useRef();\n    const calendarList = useRef();\n    const header = useRef();\n    const weekCalendarWrapper = useRef();\n    /** Styles */\n    const style = useRef(styleConstructor(theme));\n    const themeObject = Object.assign(headerStyleOverride, theme);\n    const _wrapperStyles = useRef({ style: { height: startHeight } });\n    const _headerStyles = { style: { top: isOpen ? -HEADER_HEIGHT : 0 } };\n    const _weekCalendarStyles = { style: { opacity: isOpen ? 0 : 1 } };\n    const shouldHideArrows = !horizontal ? true : hideArrows || false;\n    const updateNativeStyles = () => {\n        wrapper?.current?.setNativeProps(_wrapperStyles.current);\n        if (!horizontal) {\n            header?.current?.setNativeProps(_headerStyles);\n        }\n        else {\n            weekCalendarWrapper?.current?.setNativeProps(_weekCalendarStyles);\n        }\n    };\n    const weekDaysStyle = useMemo(() => {\n        const leftPaddings = calendarStyle?.paddingLeft;\n        const rightPaddings = calendarStyle?.paddingRight;\n        return [\n            style.current.weekDayNames,\n            {\n                paddingLeft: isNumber(leftPaddings) ? leftPaddings + 6 : DAY_NAMES_PADDING,\n                paddingRight: isNumber(rightPaddings) ? rightPaddings + 6 : DAY_NAMES_PADDING\n            }\n        ];\n    }, [calendarStyle]);\n    const animatedHeaderStyle = useMemo(() => {\n        return [style.current.header, { height: HEADER_HEIGHT + 10, top: headerDeltaY.current }];\n    }, [headerDeltaY.current]);\n    const weekCalendarStyle = useMemo(() => {\n        return [style.current.weekContainer, isOpen ? style.current.hidden : style.current.visible];\n    }, [isOpen]);\n    const containerStyle = useMemo(() => {\n        return [allowShadow && style.current.containerShadow, propsStyle];\n    }, [allowShadow, propsStyle]);\n    const wrapperStyle = useMemo(() => {\n        return { height: deltaY };\n    }, [deltaY]);\n    /** Effects */\n    useEffect(() => {\n        if (AccessibilityInfo) {\n            if (AccessibilityInfo.isScreenReaderEnabled) {\n                AccessibilityInfo.isScreenReaderEnabled().then(handleScreenReaderStatus);\n            }\n            else if (AccessibilityInfo.fetch) {\n                // Support for older RN versions\n                AccessibilityInfo.fetch().then(handleScreenReaderStatus);\n            }\n        }\n    }, []);\n    useEffect(() => {\n        // date was changed from AgendaList, arrows or scroll\n        scrollToDate(date);\n    }, [date]);\n    const handleScreenReaderStatus = (screenReaderEnabled) => {\n        setScreenReaderEnabled(screenReaderEnabled);\n    };\n    /** Scroll */\n    const scrollToDate = (date) => {\n        if (!horizontal) {\n            calendarList?.current?.scrollToDay(date, 0, true);\n        }\n        else if (getYear(date) !== visibleYear.current || getMonth(date) !== visibleMonth.current) {\n            // don't scroll if the month is already visible\n            calendarList?.current?.scrollToMonth(date);\n        }\n    };\n    const scrollPage = useCallback((next) => {\n        if (horizontal) {\n            const d = parseDate(date);\n            if (isOpen) {\n                d.setDate(1);\n                d.addMonths(next ? 1 : -1);\n            }\n            else {\n                let dayOfTheWeek = d.getDay();\n                if (dayOfTheWeek < firstDay && firstDay > 0) {\n                    dayOfTheWeek = 7 + dayOfTheWeek;\n                }\n                if (numberOfDays) {\n                    const daysToAdd = numberOfDays <= 1 ? 7 : numberOfDays;\n                    d.addDays(next ? daysToAdd : -daysToAdd);\n                }\n                else {\n                    const firstDayOfWeek = (next ? 7 : -7) - dayOfTheWeek + firstDay;\n                    d.addDays(firstDayOfWeek);\n                }\n            }\n            setDate?.(toMarkingFormat(d), UpdateSources.PAGE_SCROLL);\n        }\n    }, [horizontal, isOpen, firstDay, numberOfDays, setDate, date]);\n    /** Pan Gesture */\n    const handleMoveShouldSetPanResponder = (_, gestureState) => {\n        if (disablePan) {\n            return false;\n        }\n        if (!horizontal && isOpen) {\n            // disable pan detection when vertical calendar is open to allow calendar scroll\n            return false;\n        }\n        if (!isOpen && gestureState.dy < 0) {\n            // disable pan detection to limit to closed height\n            return false;\n        }\n        return gestureState.dy > 5 || gestureState.dy < -5;\n    };\n    const handlePanResponderMove = (_, gestureState) => {\n        // limit min height to closed height\n        _wrapperStyles.current.style.height = Math.max(closedHeight, _height.current + gestureState.dy);\n        if (!horizontal) {\n            // vertical CalenderList header\n            _headerStyles.style.top = Math.min(Math.max(-gestureState.dy, -HEADER_HEIGHT), 0);\n        }\n        else {\n            // horizontal Week view\n            if (!isOpen) {\n                _weekCalendarStyles.style.opacity = Math.min(1, Math.max(1 - gestureState.dy / 100, 0));\n            }\n        }\n        updateNativeStyles();\n    };\n    const handlePanResponderEnd = () => {\n        _height.current = Number(_wrapperStyles.current.style.height);\n        bounceToPosition();\n    };\n    const numberOfDaysCondition = useMemo(() => {\n        return !numberOfDays || numberOfDays && numberOfDays <= 1;\n    }, [numberOfDays]);\n    const panResponder = useMemo(() => numberOfDaysCondition ? PanResponder.create({\n        onMoveShouldSetPanResponder: handleMoveShouldSetPanResponder,\n        onPanResponderMove: handlePanResponderMove,\n        onPanResponderRelease: handlePanResponderEnd,\n        onPanResponderTerminate: handlePanResponderEnd\n    }) : PanResponder.create({}), [numberOfDays]);\n    /** Animated */\n    const bounceToPosition = (toValue = 0) => {\n        if (!disablePan) {\n            const threshold = isOpen ? openHeight.current - closeThreshold : closedHeight + openThreshold;\n            let _isOpen = _height.current >= threshold;\n            const newValue = _isOpen ? openHeight.current : closedHeight;\n            deltaY.setValue(_height.current); // set the start position for the animated value\n            _height.current = toValue || newValue;\n            _isOpen = _height.current >= threshold; // re-check after _height.current was set\n            Animated.spring(deltaY, {\n                toValue: _height.current,\n                speed: SPEED,\n                bounciness: BOUNCINESS,\n                useNativeDriver: false\n            }).start();\n            onCalendarToggled?.(_isOpen);\n            setPosition(() => _height.current === closedHeight ? Positions.CLOSED : Positions.OPEN);\n            closeHeader(_isOpen);\n            resetWeekCalendarOpacity(_isOpen);\n        }\n    };\n    const resetWeekCalendarOpacity = (isOpen) => {\n        _weekCalendarStyles.style.opacity = isOpen ? 0 : 1;\n        updateNativeStyles();\n    };\n    const closeHeader = (isOpen) => {\n        headerDeltaY.current.setValue(Number(_headerStyles.style.top)); // set the start position for the animated value\n        if (!horizontal && !isOpen) {\n            Animated.spring(headerDeltaY.current, {\n                toValue: 0,\n                speed: SPEED / 10,\n                bounciness: 1,\n                useNativeDriver: false\n            }).start();\n        }\n    };\n    const closeCalendar = useCallback(() => {\n        setTimeout(() => {\n            // to allows setDate to be completed\n            if (isOpen) {\n                bounceToPosition(closedHeight);\n            }\n        }, 0);\n    }, [isOpen, closedHeight]);\n    const toggleCalendarPosition = useCallback(() => {\n        bounceToPosition(isOpen ? closedHeight : openHeight.current);\n    }, [isOpen, bounceToPosition, closedHeight]);\n    /** Events */\n    const _onPressArrowLeft = useCallback((method, month) => {\n        onPressArrowLeft?.(method, month);\n        scrollPage(false);\n    }, [onPressArrowLeft, scrollPage]);\n    const _onPressArrowRight = useCallback((method, month) => {\n        onPressArrowRight?.(method, month);\n        scrollPage(true);\n    }, [onPressArrowRight, scrollPage]);\n    const _onDayPress = useCallback((value) => {\n        if (numberOfDaysCondition) {\n            setDate?.(value.dateString, UpdateSources.DAY_PRESS);\n        }\n        if (closeOnDayPress) {\n            closeCalendar();\n        }\n        onDayPress?.(value);\n    }, [onDayPress, closeOnDayPress, closeCalendar, numberOfDaysCondition]);\n    const onVisibleMonthsChange = useCallback(throttle((value) => {\n        const newDate = first(value);\n        if (newDate) {\n            const month = newDate.month;\n            if (month && visibleMonth.current !== month) {\n                visibleMonth.current = month;\n                const year = newDate.year;\n                if (year) {\n                    visibleYear.current = year;\n                }\n                // for horizontal scroll\n                if (visibleMonth.current !== getMonth(date)) {\n                    const next = isLaterDate(newDate, date);\n                    scrollPage(next);\n                }\n                // updating openHeight\n                setTimeout(() => {\n                    // to wait for setDate() call in horizontal scroll (scrollPage())\n                    const _numberOfWeeks = getNumberOfWeeksInMonth(newDate.dateString);\n                    if (_numberOfWeeks !== numberOfWeeks.current) {\n                        numberOfWeeks.current = _numberOfWeeks;\n                        openHeight.current = getOpenHeight();\n                        if (isOpen) {\n                            bounceToPosition(openHeight.current);\n                        }\n                    }\n                }, 0);\n            }\n        }\n    }, 100, { trailing: true, leading: false }), [date, scrollPage]);\n    /** Renders */\n    const _renderArrow = useCallback((direction) => {\n        if (isFunction(renderArrow)) {\n            return renderArrow(direction);\n        }\n        return (<Image source={direction === 'right' ? rightArrowImageSource : leftArrowImageSource} style={style.current.arrowImage} testID={`${testID}.${direction}Arrow`}/>);\n    }, [renderArrow, rightArrowImageSource, leftArrowImageSource, testID]);\n    const renderWeekDaysNames = () => {\n        return (<View style={weekDaysStyle}>\n        <WeekDaysNames firstDay={firstDay} style={style.current.dayHeader}/>\n      </View>);\n    };\n    const renderAnimatedHeader = () => {\n        const monthYear = new XDate(date)?.toString('MMMM yyyy');\n        return (<Animated.View ref={header} style={animatedHeaderStyle} pointerEvents={'none'}>\n        <Text allowFontScaling={false} style={style.current.headerTitle}>\n          {monthYear}\n        </Text>\n        {renderWeekDaysNames()}\n      </Animated.View>);\n    };\n    const renderKnob = () => {\n        return (<View style={style.current.knobContainer} pointerEvents={'box-none'}>\n        <TouchableOpacity style={style.current.knob} testID={`${testID}.knob`} onPress={toggleCalendarPosition} hitSlop={knobHitSlop} /* activeOpacity={isOpen ? undefined : 1} *//>\n      </View>);\n    };\n    const renderWeekCalendar = () => {\n        const WeekComponent = disableWeekScroll ? Week : WeekCalendar;\n        return (<Animated.View ref={weekCalendarWrapper} style={weekCalendarStyle} pointerEvents={isOpen ? 'none' : 'auto'}>\n        <WeekComponent testID={`${testID}.weekCalendar`} firstDay={firstDay} {...others} allowShadow={disableWeekScroll ? undefined : false} current={disableWeekScroll ? date : undefined} theme={themeObject} style={calendarStyle} hideDayNames={true} onDayPress={_onDayPress} accessibilityElementsHidden // iOS\n         importantForAccessibility={'no-hide-descendants'} // Android\n        />\n      </Animated.View>);\n    };\n    const numberOfDaysHeaderStyle = useMemo(() => {\n        if (numberOfDays && numberOfDays > 1) {\n            return { paddingHorizontal: 0 };\n        }\n    }, [numberOfDays]);\n    const _headerStyle = useMemo(() => {\n        return [numberOfDaysHeaderStyle, props.headerStyle];\n    }, [props.headerStyle, numberOfDaysHeaderStyle]);\n    const renderCalendarList = () => {\n        return (<CalendarList testID={`${testID}.calendarList`} horizontal={horizontal} firstDay={firstDay} calendarStyle={calendarStyle} {...others} current={date} theme={themeObject} ref={calendarList} onDayPress={_onDayPress} onVisibleMonthsChange={onVisibleMonthsChange} pagingEnabled scrollEnabled={isOpen} hideArrows={shouldHideArrows} onPressArrowLeft={_onPressArrowLeft} onPressArrowRight={_onPressArrowRight} hideExtraDays={!horizontal && isOpen} renderArrow={_renderArrow} staticHeader numberOfDays={numberOfDays} headerStyle={_headerStyle} timelineLeftInset={timelineLeftInset}/>);\n    };\n    return (<View testID={testID} style={containerStyle}>\n      {screenReaderEnabled ? (<Calendar testID={`${testID}.calendarAccessible`} {...others} theme={themeObject} onDayPress={_onDayPress} hideExtraDays renderArrow={_renderArrow}/>) : (<Animated.View testID={`${testID}.expandableContainer`} ref={wrapper} style={wrapperStyle} {...panResponder.panHandlers}>\n          {renderCalendarList()}\n          {renderWeekCalendar()}\n          {!hideKnob && renderKnob()}\n          {!horizontal && renderAnimatedHeader()}\n        </Animated.View>)}\n    </View>);\n};\nexport default ExpandableCalendar;\nExpandableCalendar.displayName = 'ExpandableCalendar';\nExpandableCalendar.defaultProps = {\n    horizontal: true,\n    initialPosition: Positions.CLOSED,\n    firstDay: 0,\n    leftArrowImageSource: LEFT_ARROW,\n    rightArrowImageSource: RIGHT_ARROW,\n    allowShadow: true,\n    openThreshold: PAN_GESTURE_THRESHOLD,\n    closeThreshold: PAN_GESTURE_THRESHOLD,\n    closeOnDayPress: true\n};\nExpandableCalendar.positions = Positions;\n"]},"metadata":{},"sourceType":"module"}