{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport XDate from 'xdate';\nimport React, { useRef, useState, useCallback, useMemo } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport { sameMonth } from \"../../dateutils\";\nimport { xdateToData } from \"../../interface\";\nimport { useDidUpdate } from \"../../hooks\";\nimport { UpdateSources } from \"../commons\";\nimport styleConstructor from \"../style\";\nimport CalendarContext from \"./index\";\nimport TodayButton from \"./todayButton\";\n\nvar CalendarProvider = function CalendarProvider(props) {\n  var theme = props.theme,\n      date = props.date,\n      onDateChanged = props.onDateChanged,\n      onMonthChange = props.onMonthChange,\n      _props$showTodayButto = props.showTodayButton,\n      showTodayButton = _props$showTodayButto === void 0 ? false : _props$showTodayButto,\n      disabledOpacity = props.disabledOpacity,\n      todayBottomMargin = props.todayBottomMargin,\n      todayButtonStyle = props.todayButtonStyle,\n      propsStyle = props.style,\n      numberOfDays = props.numberOfDays,\n      _props$timelineLeftIn = props.timelineLeftInset,\n      timelineLeftInset = _props$timelineLeftIn === void 0 ? 72 : _props$timelineLeftIn,\n      children = props.children;\n  var style = useRef(styleConstructor(theme));\n  var todayButton = useRef();\n  var prevDate = useRef(date);\n  var currDate = useRef(date);\n\n  var _useState = useState(date),\n      _useState2 = _slicedToArray(_useState, 2),\n      currentDate = _useState2[0],\n      setCurrentDate = _useState2[1];\n\n  var _useState3 = useState(UpdateSources.CALENDAR_INIT),\n      _useState4 = _slicedToArray(_useState3, 2),\n      updateSource = _useState4[0],\n      setUpdateSource = _useState4[1];\n\n  var wrapperStyle = useMemo(function () {\n    return [style.current.contextWrapper, propsStyle];\n  }, [style, propsStyle]);\n  useDidUpdate(function () {\n    if (date) {\n      _setDate(date, UpdateSources.PROP_UPDATE);\n    }\n  }, [date]);\n\n  var _setDate = useCallback(function (date, updateSource) {\n    prevDate.current = currDate.current;\n    currDate.current = date;\n    setCurrentDate(date);\n    setUpdateSource(updateSource);\n    onDateChanged == null ? void 0 : onDateChanged(date, updateSource);\n\n    if (!sameMonth(new XDate(date), new XDate(prevDate.current))) {\n      onMonthChange == null ? void 0 : onMonthChange(xdateToData(new XDate(date)), updateSource);\n    }\n  }, [onDateChanged, onMonthChange]);\n\n  var _setDisabled = useCallback(function (disabled) {\n    if (showTodayButton) {\n      var _todayButton$current;\n\n      (_todayButton$current = todayButton.current) == null ? void 0 : _todayButton$current.disable(disabled);\n    }\n  }, [showTodayButton]);\n\n  var contextValue = useMemo(function () {\n    return {\n      date: currentDate,\n      prevDate: prevDate.current,\n      updateSource: updateSource,\n      setDate: _setDate,\n      setDisabled: _setDisabled,\n      numberOfDays: numberOfDays,\n      timelineLeftInset: timelineLeftInset\n    };\n  }, [currentDate, updateSource, numberOfDays, _setDisabled]);\n\n  var renderTodayButton = function renderTodayButton() {\n    return React.createElement(TodayButton, {\n      ref: todayButton,\n      disabledOpacity: disabledOpacity,\n      margin: todayBottomMargin,\n      style: todayButtonStyle,\n      theme: theme\n    });\n  };\n\n  return React.createElement(CalendarContext.Provider, {\n    value: contextValue\n  }, React.createElement(View, {\n    style: wrapperStyle\n  }, children), showTodayButton && renderTodayButton());\n};\n\nexport default CalendarProvider;\nCalendarProvider.displayName = 'CalendarProvider';","map":{"version":3,"sources":["C:/Users/Eileen Twimasi/WebstormProjects/NYU-Library-Frontend/node_modules/react-native-calendars/src/expandableCalendar/Context/Provider.js"],"names":["XDate","React","useRef","useState","useCallback","useMemo","sameMonth","xdateToData","useDidUpdate","UpdateSources","styleConstructor","CalendarContext","TodayButton","CalendarProvider","props","theme","date","onDateChanged","onMonthChange","showTodayButton","disabledOpacity","todayBottomMargin","todayButtonStyle","propsStyle","style","numberOfDays","timelineLeftInset","children","todayButton","prevDate","currDate","currentDate","setCurrentDate","CALENDAR_INIT","updateSource","setUpdateSource","wrapperStyle","current","contextWrapper","_setDate","PROP_UPDATE","_setDisabled","disabled","disable","contextValue","setDate","setDisabled","renderTodayButton","displayName"],"mappings":"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","sourcesContent":["import XDate from 'xdate';\nimport React, { useRef, useState, useCallback, useMemo } from 'react';\nimport { View } from 'react-native';\nimport { sameMonth } from '../../dateutils';\nimport { xdateToData } from '../../interface';\nimport { useDidUpdate } from '../../hooks';\nimport { UpdateSources } from '../commons';\nimport styleConstructor from '../style';\nimport CalendarContext from './index';\nimport TodayButton from './todayButton';\n/**\n * @description: Calendar context provider component\n * @example: https://github.com/wix/react-native-calendars/blob/master/example/src/screens/expandableCalendar.js\n */\nconst CalendarProvider = (props) => {\n    const { theme, date, onDateChanged, onMonthChange, showTodayButton = false, disabledOpacity, todayBottomMargin, todayButtonStyle, style: propsStyle, numberOfDays, timelineLeftInset = 72, children } = props;\n    const style = useRef(styleConstructor(theme));\n    const todayButton = useRef();\n    const prevDate = useRef(date);\n    const currDate = useRef(date); // for setDate only to keep prevDate up to date\n    const [currentDate, setCurrentDate] = useState(date);\n    const [updateSource, setUpdateSource] = useState(UpdateSources.CALENDAR_INIT);\n    const wrapperStyle = useMemo(() => {\n        return [style.current.contextWrapper, propsStyle];\n    }, [style, propsStyle]);\n    useDidUpdate(() => {\n        if (date) {\n            _setDate(date, UpdateSources.PROP_UPDATE);\n        }\n    }, [date]);\n    const _setDate = useCallback((date, updateSource) => {\n        prevDate.current = currDate.current;\n        currDate.current = date;\n        setCurrentDate(date);\n        setUpdateSource(updateSource);\n        onDateChanged?.(date, updateSource);\n        if (!sameMonth(new XDate(date), new XDate(prevDate.current))) {\n            onMonthChange?.(xdateToData(new XDate(date)), updateSource);\n        }\n    }, [onDateChanged, onMonthChange]);\n    const _setDisabled = useCallback((disabled) => {\n        if (showTodayButton) {\n            todayButton.current?.disable(disabled);\n        }\n    }, [showTodayButton]);\n    const contextValue = useMemo(() => {\n        return {\n            date: currentDate,\n            prevDate: prevDate.current,\n            updateSource: updateSource,\n            setDate: _setDate,\n            setDisabled: _setDisabled,\n            numberOfDays,\n            timelineLeftInset\n        };\n    }, [currentDate, updateSource, numberOfDays, _setDisabled]);\n    const renderTodayButton = () => {\n        return (<TodayButton ref={todayButton} disabledOpacity={disabledOpacity} margin={todayBottomMargin} style={todayButtonStyle} theme={theme}/>);\n    };\n    return (<CalendarContext.Provider value={contextValue}>\n      <View style={wrapperStyle}>{children}</View>\n      {showTodayButton && renderTodayButton()}\n    </CalendarContext.Provider>);\n};\nexport default CalendarProvider;\nCalendarProvider.displayName = 'CalendarProvider';\n"]},"metadata":{},"sourceType":"module"}