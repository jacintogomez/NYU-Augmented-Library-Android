{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/extends\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/objectWithoutProperties\";\nvar _this = this;\nvar _excluded = [\"context\", \"markedDates\"],\n  _excluded2 = [\"context\", \"markedDates\"];\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nimport XDate from 'xdate';\nimport React, { useRef, useMemo, useCallback } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport isEqual from 'lodash/isEqual';\nimport { getPartialWeekDates, getWeekDates, sameMonth } from \"../dateutils\";\nimport { parseDate, toMarkingFormat } from \"../interface\";\nimport { getState } from \"../day-state-manager\";\nimport { extractDayProps } from \"../componentUpdater\";\nimport styleConstructor from \"./style\";\nimport Day from \"../calendar/day/index\";\nfunction arePropsEqual(prevProps, nextProps) {\n  var prevContext = prevProps.context,\n    prevMarkings = prevProps.markedDates,\n    prevOthers = _objectWithoutProperties(prevProps, _excluded);\n  var nextContext = nextProps.context,\n    nextMarkings = nextProps.markedDates,\n    nextOthers = _objectWithoutProperties(nextProps, _excluded2);\n  return isEqual(prevContext, nextContext) && isEqual(prevMarkings, nextMarkings) && isEqual(prevOthers, nextOthers);\n}\nvar Week = React.memo(function (props) {\n  var theme = props.theme,\n    current = props.current,\n    firstDay = props.firstDay,\n    hideExtraDays = props.hideExtraDays,\n    markedDates = props.markedDates,\n    onDayPress = props.onDayPress,\n    onDayLongPress = props.onDayLongPress,\n    propsStyle = props.style,\n    _props$numberOfDays = props.numberOfDays,\n    numberOfDays = _props$numberOfDays === void 0 ? 1 : _props$numberOfDays,\n    timelineLeftInset = props.timelineLeftInset,\n    testID = props.testID;\n  var style = useRef(styleConstructor(theme));\n  var disableDaySelection = useMemo(function () {\n    return !!numberOfDays && numberOfDays > 1;\n  }, [numberOfDays]);\n  var getWeek = useCallback(function (date) {\n    if (date) {\n      return getWeekDates(date, firstDay);\n    }\n  }, [firstDay]);\n  var partialWeekStyle = useMemo(function () {\n    return [style.current.partialWeek, {\n      paddingLeft: timelineLeftInset\n    }];\n  }, [timelineLeftInset]);\n  var dayProps = extractDayProps(props);\n  var currXdate = useMemo(function () {\n    return parseDate(current);\n  }, [current]);\n  var renderDay = function renderDay(day, id) {\n    if (current && hideExtraDays) {\n      if (!sameMonth(day, currXdate)) {\n        return React.createElement(View, {\n          key: id,\n          style: style.current.emptyDayContainer\n        });\n      }\n    }\n    var dayString = toMarkingFormat(day);\n    return React.createElement(View, {\n      style: style.current.dayContainer,\n      key: id\n    }, React.createElement(Day, _extends({}, dayProps, {\n      testID: testID + \".day_\" + dayString,\n      date: dayString,\n      state: getState(day, currXdate, props, disableDaySelection),\n      marking: disableDaySelection ? _objectSpread(_objectSpread({}, markedDates == null ? void 0 : markedDates[dayString]), {}, {\n        disableTouchEvent: true\n      }) : markedDates == null ? void 0 : markedDates[dayString],\n      onPress: onDayPress,\n      onLongPress: onDayLongPress\n    })));\n  };\n  var renderWeek = function renderWeek() {\n    var dates = numberOfDays > 1 ? getPartialWeekDates(current, numberOfDays) : getWeek(current);\n    var week = [];\n    if (dates) {\n      var todayIndex = (dates == null ? void 0 : dates.indexOf(parseDate(new Date()))) || -1;\n      var sliced = dates.slice(todayIndex, numberOfDays);\n      var datesToRender = numberOfDays > 1 && todayIndex > -1 ? sliced : dates;\n      datesToRender.forEach(function (day, id) {\n        var d = day instanceof XDate ? day : new XDate(day);\n        week.push(renderDay(d, id));\n      }, _this);\n    }\n    return week;\n  };\n  return React.createElement(View, {\n    style: style.current.container,\n    testID: testID + \".week_\" + current\n  }, React.createElement(View, {\n    style: [style.current.week, numberOfDays > 1 ? partialWeekStyle : undefined, propsStyle]\n  }, renderWeek()));\n}, arePropsEqual);\nexport default Week;\nWeek.displayName = 'Week';","map":{"version":3,"names":["XDate","React","useRef","useMemo","useCallback","View","isEqual","getPartialWeekDates","getWeekDates","sameMonth","parseDate","toMarkingFormat","getState","extractDayProps","styleConstructor","Day","arePropsEqual","prevProps","nextProps","prevContext","context","prevMarkings","markedDates","prevOthers","_objectWithoutProperties","_excluded","nextContext","nextMarkings","nextOthers","_excluded2","Week","memo","props","theme","current","firstDay","hideExtraDays","onDayPress","onDayLongPress","propsStyle","style","_props$numberOfDays","numberOfDays","timelineLeftInset","testID","disableDaySelection","getWeek","date","partialWeekStyle","partialWeek","paddingLeft","dayProps","currXdate","renderDay","day","id","createElement","key","emptyDayContainer","dayString","dayContainer","_extends","state","marking","_objectSpread","disableTouchEvent","onPress","onLongPress","renderWeek","dates","week","todayIndex","indexOf","Date","sliced","slice","datesToRender","forEach","d","push","_this","container","undefined","displayName"],"sources":["/Users/siyuejiang/Documents/S23/Augmented Library 2/node_modules/react-native-calendars/src/expandableCalendar/week.js"],"sourcesContent":["import XDate from 'xdate';\nimport React, { useRef, useMemo, useCallback } from 'react';\nimport { View } from 'react-native';\nimport isEqual from 'lodash/isEqual';\nimport { getPartialWeekDates, getWeekDates, sameMonth } from '../dateutils';\nimport { parseDate, toMarkingFormat } from '../interface';\nimport { getState } from '../day-state-manager';\nimport { extractDayProps } from '../componentUpdater';\nimport styleConstructor from './style';\nimport Day from '../calendar/day/index';\nfunction arePropsEqual(prevProps, nextProps) {\n    const { context: prevContext, markedDates: prevMarkings, ...prevOthers } = prevProps;\n    const { context: nextContext, markedDates: nextMarkings, ...nextOthers } = nextProps;\n    return isEqual(prevContext, nextContext) && isEqual(prevMarkings, nextMarkings) && isEqual(prevOthers, nextOthers);\n}\nconst Week = React.memo((props) => {\n    const { theme, current, firstDay, hideExtraDays, markedDates, onDayPress, onDayLongPress, style: propsStyle, numberOfDays = 1, timelineLeftInset, testID, } = props;\n    const style = useRef(styleConstructor(theme));\n    const disableDaySelection = useMemo(() => {\n        return !!numberOfDays && numberOfDays > 1;\n    }, [numberOfDays]);\n    const getWeek = useCallback((date) => {\n        if (date) {\n            return getWeekDates(date, firstDay);\n        }\n    }, [firstDay]);\n    const partialWeekStyle = useMemo(() => {\n        return [style.current.partialWeek, { paddingLeft: timelineLeftInset }];\n    }, [timelineLeftInset]);\n    const dayProps = extractDayProps(props);\n    const currXdate = useMemo(() => parseDate(current), [current]);\n    const renderDay = (day, id) => {\n        // hide extra days\n        if (current && hideExtraDays) {\n            if (!sameMonth(day, currXdate)) {\n                return <View key={id} style={style.current.emptyDayContainer}/>;\n            }\n        }\n        const dayString = toMarkingFormat(day);\n        return (<View style={style.current.dayContainer} key={id}>\n        <Day {...dayProps} testID={`${testID}.day_${dayString}`} date={dayString} state={getState(day, currXdate, props, disableDaySelection)} marking={disableDaySelection ? { ...markedDates?.[dayString], disableTouchEvent: true } : markedDates?.[dayString]} onPress={onDayPress} onLongPress={onDayLongPress}/>\n      </View>);\n    };\n    const renderWeek = () => {\n        const dates = numberOfDays > 1 ? getPartialWeekDates(current, numberOfDays) : getWeek(current);\n        const week = [];\n        if (dates) {\n            const todayIndex = dates?.indexOf(parseDate(new Date())) || -1;\n            const sliced = dates.slice(todayIndex, numberOfDays);\n            const datesToRender = numberOfDays > 1 && todayIndex > -1 ? sliced : dates;\n            datesToRender.forEach((day, id) => {\n                const d = day instanceof XDate ? day : new XDate(day);\n                week.push(renderDay(d, id));\n            }, this);\n        }\n        return week;\n    };\n    return (<View style={style.current.container} testID={`${testID}.week_${current}`}>\n      <View style={[style.current.week, numberOfDays > 1 ? partialWeekStyle : undefined, propsStyle]}>\n        {renderWeek()}\n      </View>\n    </View>);\n}, arePropsEqual);\nexport default Week;\nWeek.displayName = 'Week';\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}