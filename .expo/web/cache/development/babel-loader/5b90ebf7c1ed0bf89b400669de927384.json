{"ast":null,"code":"import React, { useCallback, useMemo, useRef } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TouchableWithoutFeedback from \"react-native-web/dist/exports/TouchableWithoutFeedback\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport range from 'lodash/range';\nimport { buildUnavailableHoursBlocks, HOUR_BLOCK_HEIGHT } from \"./Packer\";\nimport { buildTimeString, calcTimeByPosition } from \"./helpers/presenter\";\nimport constants from \"../commons/constants\";\nvar dimensionWidth = constants.screenWidth;\nvar EVENT_DIFF = 20;\nvar TimelineHours = function TimelineHours(props) {\n  var format24h = props.format24h,\n    _props$start = props.start,\n    start = _props$start === void 0 ? 0 : _props$start,\n    _props$end = props.end,\n    end = _props$end === void 0 ? 24 : _props$end,\n    date = props.date,\n    unavailableHours = props.unavailableHours,\n    unavailableHoursColor = props.unavailableHoursColor,\n    styles = props.styles,\n    onBackgroundLongPress = props.onBackgroundLongPress,\n    onBackgroundLongPressOut = props.onBackgroundLongPressOut;\n  var lastLongPressEventTime = useRef();\n  var offset = HOUR_BLOCK_HEIGHT;\n  var unavailableHoursBlocks = buildUnavailableHoursBlocks(unavailableHours, {\n    dayStart: start,\n    dayEnd: end\n  });\n  var hours = useMemo(function () {\n    return range(start, end + 1).map(function (i) {\n      var timeText;\n      if (i === start) {\n        timeText = '';\n      } else if (i < 12) {\n        timeText = !format24h ? i + \" AM\" : i + \":00\";\n      } else if (i === 12) {\n        timeText = !format24h ? i + \" PM\" : i + \":00\";\n      } else if (i === 24) {\n        timeText = !format24h ? '12 AM' : '23:59';\n      } else {\n        timeText = !format24h ? i - 12 + \" PM\" : i + \":00\";\n      }\n      return {\n        timeText: timeText,\n        time: i\n      };\n    });\n  }, [start, end, format24h]);\n  var handleBackgroundPress = useCallback(function (event) {\n    var yPosition = event.nativeEvent.locationY;\n    var _calcTimeByPosition = calcTimeByPosition(yPosition, HOUR_BLOCK_HEIGHT),\n      hour = _calcTimeByPosition.hour,\n      minutes = _calcTimeByPosition.minutes;\n    lastLongPressEventTime.current = {\n      hour: hour,\n      minutes: minutes,\n      date: date\n    };\n    var timeString = buildTimeString(hour, minutes, date);\n    onBackgroundLongPress == null ? void 0 : onBackgroundLongPress(timeString, lastLongPressEventTime.current);\n  }, [onBackgroundLongPress, date]);\n  var handlePressOut = useCallback(function () {\n    if (lastLongPressEventTime.current) {\n      var _lastLongPressEventTi = lastLongPressEventTime.current,\n        hour = _lastLongPressEventTi.hour,\n        minutes = _lastLongPressEventTi.minutes,\n        _date = _lastLongPressEventTi.date;\n      var timeString = buildTimeString(hour, minutes, _date);\n      onBackgroundLongPressOut == null ? void 0 : onBackgroundLongPressOut(timeString, lastLongPressEventTime.current);\n      lastLongPressEventTime.current = undefined;\n    }\n  }, [onBackgroundLongPressOut, date]);\n  return React.createElement(React.Fragment, null, React.createElement(TouchableWithoutFeedback, {\n    onLongPress: handleBackgroundPress,\n    onPressOut: handlePressOut\n  }, React.createElement(View, {\n    style: StyleSheet.absoluteFillObject\n  })), unavailableHoursBlocks.map(function (block) {\n    return React.createElement(View, {\n      style: [styles.unavailableHoursBlock, block, unavailableHoursColor ? {\n        backgroundColor: unavailableHoursColor\n      } : undefined]\n    });\n  }), hours.map(function (_ref, index) {\n    var timeText = _ref.timeText,\n      time = _ref.time;\n    return React.createElement(React.Fragment, {\n      key: time\n    }, React.createElement(Text, {\n      key: \"timeLabel\" + time,\n      style: [styles.timeLabel, {\n        top: offset * index - 6\n      }]\n    }, timeText), time === start ? null : React.createElement(View, {\n      key: \"line\" + time,\n      style: [styles.line, {\n        top: offset * index,\n        width: dimensionWidth - EVENT_DIFF\n      }]\n    }), React.createElement(View, {\n      key: \"lineHalf\" + time,\n      style: [styles.line, {\n        top: offset * (index + 0.5),\n        width: dimensionWidth - EVENT_DIFF\n      }]\n    }));\n  }), React.createElement(View, {\n    style: styles.verticalLine\n  }));\n};\nexport default React.memo(TimelineHours);","map":{"version":3,"names":["React","useCallback","useMemo","useRef","range","buildUnavailableHoursBlocks","HOUR_BLOCK_HEIGHT","buildTimeString","calcTimeByPosition","constants","dimensionWidth","screenWidth","EVENT_DIFF","TimelineHours","props","format24h","start","end","date","unavailableHours","unavailableHoursColor","styles","onBackgroundLongPress","onBackgroundLongPressOut","lastLongPressEventTime","offset","unavailableHoursBlocks","dayStart","dayEnd","hours","map","i","timeText","time","handleBackgroundPress","event","yPosition","nativeEvent","locationY","hour","minutes","current","timeString","handlePressOut","undefined","StyleSheet","absoluteFillObject","block","unavailableHoursBlock","backgroundColor","index","timeLabel","top","line","width","verticalLine","memo"],"sources":["C:/Users/letha/WebstormProjects/NYU-Library-Frontend/node_modules/react-native-calendars/src/timeline/TimelineHours.js"],"sourcesContent":["import React, { useCallback, useMemo, useRef } from 'react';\nimport { View, Text, TouchableWithoutFeedback, StyleSheet } from 'react-native';\nimport range from 'lodash/range';\nimport { buildUnavailableHoursBlocks, HOUR_BLOCK_HEIGHT } from './Packer';\nimport { buildTimeString, calcTimeByPosition } from './helpers/presenter';\nimport constants from '../commons/constants';\nconst dimensionWidth = constants.screenWidth;\nconst EVENT_DIFF = 20;\nconst TimelineHours = (props) => {\n    const { format24h, start = 0, end = 24, date, unavailableHours, unavailableHoursColor, styles, onBackgroundLongPress, onBackgroundLongPressOut } = props;\n    const lastLongPressEventTime = useRef();\n    // const offset = this.calendarHeight / (end - start);\n    const offset = HOUR_BLOCK_HEIGHT;\n    const unavailableHoursBlocks = buildUnavailableHoursBlocks(unavailableHours, { dayStart: start, dayEnd: end });\n    const hours = useMemo(() => {\n        return range(start, end + 1).map(i => {\n            let timeText;\n            if (i === start) {\n                timeText = '';\n            }\n            else if (i < 12) {\n                timeText = !format24h ? `${i} AM` : `${i}:00`;\n            }\n            else if (i === 12) {\n                timeText = !format24h ? `${i} PM` : `${i}:00`;\n            }\n            else if (i === 24) {\n                timeText = !format24h ? '12 AM' : '23:59';\n            }\n            else {\n                timeText = !format24h ? `${i - 12} PM` : `${i}:00`;\n            }\n            return { timeText, time: i };\n        });\n    }, [start, end, format24h]);\n    const handleBackgroundPress = useCallback(event => {\n        const yPosition = event.nativeEvent.locationY;\n        const { hour, minutes } = calcTimeByPosition(yPosition, HOUR_BLOCK_HEIGHT);\n        lastLongPressEventTime.current = { hour, minutes, date };\n        const timeString = buildTimeString(hour, minutes, date);\n        onBackgroundLongPress?.(timeString, lastLongPressEventTime.current);\n    }, [onBackgroundLongPress, date]);\n    const handlePressOut = useCallback(() => {\n        if (lastLongPressEventTime.current) {\n            const { hour, minutes, date } = lastLongPressEventTime.current;\n            const timeString = buildTimeString(hour, minutes, date);\n            onBackgroundLongPressOut?.(timeString, lastLongPressEventTime.current);\n            lastLongPressEventTime.current = undefined;\n        }\n    }, [onBackgroundLongPressOut, date]);\n    return (<>\n      <TouchableWithoutFeedback onLongPress={handleBackgroundPress} onPressOut={handlePressOut}>\n        <View style={StyleSheet.absoluteFillObject}/>\n      </TouchableWithoutFeedback>\n      {unavailableHoursBlocks.map(block => (<View style={[\n                styles.unavailableHoursBlock,\n                block,\n                unavailableHoursColor ? { backgroundColor: unavailableHoursColor } : undefined\n            ]}></View>))}\n\n      {hours.map(({ timeText, time }, index) => {\n            return (<React.Fragment key={time}>\n            <Text key={`timeLabel${time}`} style={[styles.timeLabel, { top: offset * index - 6 }]}>\n              {timeText}\n            </Text>\n            {time === start ? null : (<View key={`line${time}`} style={[styles.line, { top: offset * index, width: dimensionWidth - EVENT_DIFF }]}/>)}\n            {<View key={`lineHalf${time}`} style={[styles.line, { top: offset * (index + 0.5), width: dimensionWidth - EVENT_DIFF }]}/>}\n          </React.Fragment>);\n        })}\n      <View style={styles.verticalLine}/>\n    </>);\n};\nexport default React.memo(TimelineHours);\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}