{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _extends from \"@babel/runtime/helpers/extends\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport findIndex from 'lodash/findIndex';\nimport PropTypes from 'prop-types';\nimport XDate from 'xdate';\nimport React, { forwardRef, useImperativeHandle, useRef, useEffect, useState, useCallback, useMemo } from 'react';\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport View from \"react-native-web/dist/exports/View\";\nimport { extractHeaderProps, extractCalendarProps } from \"../componentUpdater\";\nimport { xdateToData, parseDate, toMarkingFormat } from \"../interface\";\nimport { page, sameDate, sameMonth } from \"../dateutils\";\nimport constants from \"../commons/constants\";\nimport { useDidUpdate } from \"../hooks\";\nimport styleConstructor from \"./style\";\nimport Calendar from \"../calendar\";\nimport CalendarListItem from \"./item\";\nimport CalendarHeader from \"../calendar/header/index\";\nvar CALENDAR_WIDTH = constants.screenWidth;\nvar CALENDAR_HEIGHT = 360;\nvar PAST_SCROLL_RANGE = 50;\nvar FUTURE_SCROLL_RANGE = 50;\n\nvar CalendarList = function CalendarList(props, ref) {\n  useImperativeHandle(ref, function () {\n    return {\n      scrollToDay: function scrollToDay(date, offset, animated) {\n        _scrollToDay(date, offset, animated);\n      },\n      scrollToMonth: function scrollToMonth(date) {\n        _scrollToMonth(date);\n      }\n    };\n  });\n  var theme = props.theme,\n      current = props.current,\n      firstDay = props.firstDay,\n      markedDates = props.markedDates,\n      headerStyle = props.headerStyle,\n      onMonthChange = props.onMonthChange,\n      onVisibleMonthsChange = props.onVisibleMonthsChange,\n      _props$pastScrollRang = props.pastScrollRange,\n      pastScrollRange = _props$pastScrollRang === void 0 ? PAST_SCROLL_RANGE : _props$pastScrollRang,\n      _props$futureScrollRa = props.futureScrollRange,\n      futureScrollRange = _props$futureScrollRa === void 0 ? FUTURE_SCROLL_RANGE : _props$futureScrollRa,\n      _props$calendarHeight = props.calendarHeight,\n      calendarHeight = _props$calendarHeight === void 0 ? CALENDAR_HEIGHT : _props$calendarHeight,\n      _props$calendarWidth = props.calendarWidth,\n      calendarWidth = _props$calendarWidth === void 0 ? CALENDAR_WIDTH : _props$calendarWidth,\n      calendarStyle = props.calendarStyle,\n      _props$animateScroll = props.animateScroll,\n      animateScroll = _props$animateScroll === void 0 ? false : _props$animateScroll,\n      _props$showScrollIndi = props.showScrollIndicator,\n      showScrollIndicator = _props$showScrollIndi === void 0 ? false : _props$showScrollIndi,\n      staticHeader = props.staticHeader,\n      testID = props.testID,\n      propsStyle = props.style,\n      onLayout = props.onLayout,\n      removeClippedSubviews = props.removeClippedSubviews,\n      _props$horizontal = props.horizontal,\n      horizontal = _props$horizontal === void 0 ? false : _props$horizontal,\n      pagingEnabled = props.pagingEnabled,\n      _props$scrollEnabled = props.scrollEnabled,\n      scrollEnabled = _props$scrollEnabled === void 0 ? true : _props$scrollEnabled,\n      _props$nestedScrollEn = props.nestedScrollEnabled,\n      nestedScrollEnabled = _props$nestedScrollEn === void 0 ? true : _props$nestedScrollEn,\n      _props$scrollsToTop = props.scrollsToTop,\n      scrollsToTop = _props$scrollsToTop === void 0 ? false : _props$scrollsToTop,\n      _props$keyExtractor = props.keyExtractor,\n      keyExtractor = _props$keyExtractor === void 0 ? function (_, index) {\n    return String(index);\n  } : _props$keyExtractor,\n      keyboardShouldPersistTaps = props.keyboardShouldPersistTaps,\n      onScrollBeginDrag = props.onScrollBeginDrag,\n      onScrollEndDrag = props.onScrollEndDrag,\n      onMomentumScrollBegin = props.onMomentumScrollBegin,\n      onMomentumScrollEnd = props.onMomentumScrollEnd,\n      onEndReachedThreshold = props.onEndReachedThreshold,\n      onEndReached = props.onEndReached;\n  var calendarProps = extractCalendarProps(props);\n  var headerProps = extractHeaderProps(props);\n  var calendarSize = horizontal ? calendarWidth : calendarHeight;\n\n  var _useState = useState(parseDate(current)),\n      _useState2 = _slicedToArray(_useState, 2),\n      currentMonth = _useState2[0],\n      setCurrentMonth = _useState2[1];\n\n  var style = useRef(styleConstructor(theme));\n  var list = useRef();\n  var range = useRef(horizontal ? 1 : 3);\n  var initialDate = useRef(parseDate(current) || new XDate());\n  var visibleMonth = useRef(currentMonth);\n  var items = useMemo(function () {\n    var months = [];\n\n    for (var i = 0; i <= pastScrollRange + futureScrollRange; i++) {\n      var _initialDate$current;\n\n      var rangeDate = (_initialDate$current = initialDate.current) == null ? void 0 : _initialDate$current.clone().addMonths(i - pastScrollRange, true);\n      months.push(rangeDate);\n    }\n\n    return months;\n  }, [pastScrollRange, futureScrollRange]);\n  var staticHeaderStyle = useMemo(function () {\n    return [style.current.staticHeader, headerStyle];\n  }, [headerStyle]);\n  var listStyle = useMemo(function () {\n    return [style.current.container, propsStyle];\n  }, [propsStyle]);\n  var initialDateIndex = useMemo(function () {\n    return findIndex(items, function (item) {\n      var _initialDate$current2;\n\n      return item.toString() === ((_initialDate$current2 = initialDate.current) == null ? void 0 : _initialDate$current2.toString());\n    });\n  }, [items]);\n  useEffect(function () {\n    if (current) {\n      _scrollToMonth(new XDate(current));\n    }\n  }, [current]);\n  useDidUpdate(function () {\n    var currMont = currentMonth == null ? void 0 : currentMonth.clone();\n\n    if (currMont) {\n      var data = xdateToData(currMont);\n      onMonthChange == null ? void 0 : onMonthChange(data);\n      onVisibleMonthsChange == null ? void 0 : onVisibleMonthsChange([data]);\n    }\n  }, [currentMonth]);\n\n  var _scrollToDay = function _scrollToDay(date, offset, animated) {\n    var _initialDate$current3;\n\n    var scrollTo = parseDate(date);\n    var diffMonths = Math.round(initialDate == null ? void 0 : (_initialDate$current3 = initialDate.current) == null ? void 0 : _initialDate$current3.clone().setDate(1).diffMonths(scrollTo == null ? void 0 : scrollTo.clone().setDate(1)));\n    var scrollAmount = calendarSize * pastScrollRange + diffMonths * calendarSize + (offset || 0);\n\n    if (!horizontal) {\n      var week = 0;\n      var days = page(scrollTo, firstDay);\n\n      for (var i = 0; i < days.length; i++) {\n        week = Math.floor(i / 7);\n\n        if (sameDate(days[i], scrollTo)) {\n          scrollAmount += 46 * week;\n          break;\n        }\n      }\n    }\n\n    if (scrollAmount !== 0) {\n      var _list$current;\n\n      list == null ? void 0 : (_list$current = list.current) == null ? void 0 : _list$current.scrollToOffset({\n        offset: scrollAmount,\n        animated: animated\n      });\n    }\n  };\n\n  var _scrollToMonth = useCallback(function (date) {\n    var _initialDate$current4;\n\n    var scrollTo = parseDate(date);\n    var diffMonths = Math.round(initialDate == null ? void 0 : (_initialDate$current4 = initialDate.current) == null ? void 0 : _initialDate$current4.clone().setDate(1).diffMonths(scrollTo == null ? void 0 : scrollTo.clone().setDate(1)));\n    var scrollAmount = calendarSize * pastScrollRange + diffMonths * calendarSize;\n\n    if (scrollAmount !== 0) {\n      var _list$current2;\n\n      list == null ? void 0 : (_list$current2 = list.current) == null ? void 0 : _list$current2.scrollToOffset({\n        offset: scrollAmount,\n        animated: animateScroll\n      });\n    }\n  }, [calendarSize]);\n\n  var addMonth = useCallback(function (count) {\n    var day = currentMonth == null ? void 0 : currentMonth.clone().addMonths(count, true);\n\n    if (sameMonth(day, currentMonth)) {\n      return;\n    }\n\n    _scrollToMonth(day);\n\n    setCurrentMonth(day);\n  }, [currentMonth, _scrollToMonth]);\n  var getMarkedDatesForItem = useCallback(function (item) {\n    if (markedDates && item) {\n      for (var _i = 0, _Object$entries = Object.entries(markedDates); _i < _Object$entries.length; _i++) {\n        var _ref = _Object$entries[_i];\n\n        var _ref2 = _slicedToArray(_ref, 2);\n\n        var key = _ref2[0];\n        var _ = _ref2[1];\n\n        if (sameMonth(new XDate(key), new XDate(item))) {\n          return markedDates;\n        }\n      }\n    }\n  }, [markedDates]);\n  var getItemLayout = useCallback(function (_, index) {\n    return {\n      length: calendarSize,\n      offset: calendarSize * index,\n      index: index\n    };\n  }, []);\n  var isDateInRange = useCallback(function (date) {\n    for (var i = -range.current; i <= range.current; i++) {\n      var newMonth = currentMonth == null ? void 0 : currentMonth.clone().addMonths(i, true);\n\n      if (sameMonth(date, newMonth)) {\n        return true;\n      }\n    }\n\n    return false;\n  }, [currentMonth]);\n  var renderItem = useCallback(function (_ref3) {\n    var item = _ref3.item;\n    var dateString = toMarkingFormat(item);\n\n    var _dateString$split = dateString.split('-'),\n        _dateString$split2 = _slicedToArray(_dateString$split, 2),\n        year = _dateString$split2[0],\n        month = _dateString$split2[1];\n\n    var testId = testID + \".item_\" + year + \"-\" + month;\n    return React.createElement(CalendarListItem, _extends({}, calendarProps, {\n      testID: testId,\n      markedDates: getMarkedDatesForItem(item),\n      item: item,\n      style: calendarStyle,\n      horizontal: horizontal,\n      calendarWidth: calendarWidth,\n      calendarHeight: calendarHeight,\n      scrollToMonth: _scrollToMonth,\n      visible: isDateInRange(item)\n    }));\n  }, [horizontal, calendarStyle, calendarWidth, testID, getMarkedDatesForItem, isDateInRange, calendarProps]);\n\n  var renderStaticHeader = function renderStaticHeader() {\n    if (staticHeader && horizontal) {\n      return React.createElement(CalendarHeader, _extends({}, headerProps, {\n        testID: testID + \".staticHeader\",\n        style: staticHeaderStyle,\n        month: currentMonth,\n        addMonth: addMonth,\n        accessibilityElementsHidden: true,\n        importantForAccessibility: 'no-hide-descendants'\n      }));\n    }\n  };\n\n  var viewabilityConfig = useRef({\n    viewAreaCoveragePercentThreshold: 20\n  });\n  var onViewableItemsChanged = useCallback(function (_ref4) {\n    var _viewableItems$;\n\n    var viewableItems = _ref4.viewableItems;\n    var newVisibleMonth = parseDate((_viewableItems$ = viewableItems[0]) == null ? void 0 : _viewableItems$.item);\n\n    if (!sameDate(visibleMonth == null ? void 0 : visibleMonth.current, newVisibleMonth)) {\n      visibleMonth.current = newVisibleMonth;\n      setCurrentMonth(visibleMonth.current);\n    }\n  }, []);\n  var viewabilityConfigCallbackPairs = useRef([{\n    viewabilityConfig: viewabilityConfig.current,\n    onViewableItemsChanged: onViewableItemsChanged\n  }]);\n  return React.createElement(View, {\n    style: style.current.flatListContainer,\n    testID: testID\n  }, React.createElement(FlatList, {\n    ref: list,\n    style: listStyle,\n    showsVerticalScrollIndicator: showScrollIndicator,\n    showsHorizontalScrollIndicator: showScrollIndicator,\n    data: items,\n    renderItem: renderItem,\n    getItemLayout: getItemLayout,\n    initialNumToRender: range.current,\n    initialScrollIndex: initialDateIndex,\n    viewabilityConfigCallbackPairs: viewabilityConfigCallbackPairs.current,\n    testID: testID + \".list\",\n    onLayout: onLayout,\n    removeClippedSubviews: removeClippedSubviews,\n    pagingEnabled: pagingEnabled,\n    scrollEnabled: scrollEnabled,\n    scrollsToTop: scrollsToTop,\n    horizontal: horizontal,\n    keyboardShouldPersistTaps: keyboardShouldPersistTaps,\n    keyExtractor: keyExtractor,\n    onEndReachedThreshold: onEndReachedThreshold,\n    onEndReached: onEndReached,\n    nestedScrollEnabled: nestedScrollEnabled,\n    onMomentumScrollBegin: onMomentumScrollBegin,\n    onMomentumScrollEnd: onMomentumScrollEnd,\n    onScrollBeginDrag: onScrollBeginDrag,\n    onScrollEndDrag: onScrollEndDrag\n  }), renderStaticHeader());\n};\n\nexport default forwardRef(CalendarList);\nCalendarList.displayName = 'CalendarList';\nCalendarList.propTypes = _objectSpread(_objectSpread({}, Calendar.propTypes), {}, {\n  pastScrollRange: PropTypes.number,\n  futureScrollRange: PropTypes.number,\n  calendarWidth: PropTypes.number,\n  calendarHeight: PropTypes.number,\n  calendarStyle: PropTypes.oneOfType([PropTypes.object, PropTypes.number, PropTypes.array]),\n  staticHeader: PropTypes.bool,\n  showScrollIndicator: PropTypes.bool,\n  animateScroll: PropTypes.bool,\n  scrollEnabled: PropTypes.bool,\n  scrollsToTop: PropTypes.bool,\n  pagingEnabled: PropTypes.bool,\n  horizontal: PropTypes.bool,\n  keyboardShouldPersistTaps: PropTypes.oneOf(['never', 'always', 'handled']),\n  keyExtractor: PropTypes.func,\n  onEndReachedThreshold: PropTypes.number,\n  onEndReached: PropTypes.func,\n  nestedScrollEnabled: PropTypes.bool\n});","map":{"version":3,"sources":["C:/Users/Eileen Twimasi/WebstormProjects/NYU-Library-Frontend/node_modules/react-native-calendars/src/calendar-list/index.js"],"names":["findIndex","PropTypes","XDate","React","forwardRef","useImperativeHandle","useRef","useEffect","useState","useCallback","useMemo","extractHeaderProps","extractCalendarProps","xdateToData","parseDate","toMarkingFormat","page","sameDate","sameMonth","constants","useDidUpdate","styleConstructor","Calendar","CalendarListItem","CalendarHeader","CALENDAR_WIDTH","screenWidth","CALENDAR_HEIGHT","PAST_SCROLL_RANGE","FUTURE_SCROLL_RANGE","CalendarList","props","ref","scrollToDay","date","offset","animated","scrollToMonth","theme","current","firstDay","markedDates","headerStyle","onMonthChange","onVisibleMonthsChange","pastScrollRange","futureScrollRange","calendarHeight","calendarWidth","calendarStyle","animateScroll","showScrollIndicator","staticHeader","testID","propsStyle","style","onLayout","removeClippedSubviews","horizontal","pagingEnabled","scrollEnabled","nestedScrollEnabled","scrollsToTop","keyExtractor","_","index","String","keyboardShouldPersistTaps","onScrollBeginDrag","onScrollEndDrag","onMomentumScrollBegin","onMomentumScrollEnd","onEndReachedThreshold","onEndReached","calendarProps","headerProps","calendarSize","currentMonth","setCurrentMonth","list","range","initialDate","visibleMonth","items","months","i","rangeDate","clone","addMonths","push","staticHeaderStyle","listStyle","container","initialDateIndex","item","toString","currMont","data","scrollTo","diffMonths","Math","round","setDate","scrollAmount","week","days","length","floor","scrollToOffset","addMonth","count","day","getMarkedDatesForItem","Object","entries","key","getItemLayout","isDateInRange","newMonth","renderItem","dateString","split","year","month","testId","renderStaticHeader","viewabilityConfig","viewAreaCoveragePercentThreshold","onViewableItemsChanged","viewableItems","newVisibleMonth","viewabilityConfigCallbackPairs","flatListContainer","displayName","propTypes","number","oneOfType","object","array","bool","oneOf","func"],"mappings":"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","sourcesContent":["import findIndex from 'lodash/findIndex';\nimport PropTypes from 'prop-types';\nimport XDate from 'xdate';\nimport React, { forwardRef, useImperativeHandle, useRef, useEffect, useState, useCallback, useMemo } from 'react';\nimport { FlatList, View } from 'react-native';\nimport { extractHeaderProps, extractCalendarProps } from '../componentUpdater';\nimport { xdateToData, parseDate, toMarkingFormat } from '../interface';\nimport { page, sameDate, sameMonth } from '../dateutils';\nimport constants from '../commons/constants';\nimport { useDidUpdate } from '../hooks';\nimport styleConstructor from './style';\nimport Calendar from '../calendar';\nimport CalendarListItem from './item';\nimport CalendarHeader from '../calendar/header/index';\nconst CALENDAR_WIDTH = constants.screenWidth;\nconst CALENDAR_HEIGHT = 360;\nconst PAST_SCROLL_RANGE = 50;\nconst FUTURE_SCROLL_RANGE = 50;\n/**\n * @description: Calendar List component for both vertical and horizontal calendars\n * @extends: Calendar\n * @extendslink: docs/Calendar\n * @example: https://github.com/wix/react-native-calendars/blob/master/example/src/screens/calendarsList.js\n * @gif: https://github.com/wix/react-native-calendars/blob/master/demo/assets/calendar-list.gif\n */\nconst CalendarList = (props, ref) => {\n    useImperativeHandle(ref, () => ({\n        scrollToDay: (date, offset, animated) => {\n            scrollToDay(date, offset, animated);\n        },\n        scrollToMonth: (date) => {\n            scrollToMonth(date);\n        }\n    }));\n    const { \n    /** Calendar props */\n    theme, current, firstDay, markedDates, headerStyle, onMonthChange, onVisibleMonthsChange, \n    /** CalendarList props */\n    pastScrollRange = PAST_SCROLL_RANGE, futureScrollRange = FUTURE_SCROLL_RANGE, calendarHeight = CALENDAR_HEIGHT, calendarWidth = CALENDAR_WIDTH, calendarStyle, animateScroll = false, showScrollIndicator = false, staticHeader, \n    /** View props */\n    testID, style: propsStyle, onLayout, removeClippedSubviews, \n    /** ScrollView props */\n    horizontal = false, pagingEnabled, scrollEnabled = true, nestedScrollEnabled = true, scrollsToTop = false, keyExtractor = (_, index) => String(index), keyboardShouldPersistTaps, onScrollBeginDrag, onScrollEndDrag, onMomentumScrollBegin, onMomentumScrollEnd, \n    /** FlatList props */\n    onEndReachedThreshold, onEndReached } = props;\n    const calendarProps = extractCalendarProps(props);\n    const headerProps = extractHeaderProps(props);\n    const calendarSize = horizontal ? calendarWidth : calendarHeight;\n    const [currentMonth, setCurrentMonth] = useState(parseDate(current));\n    const style = useRef(styleConstructor(theme));\n    const list = useRef();\n    const range = useRef(horizontal ? 1 : 3);\n    const initialDate = useRef(parseDate(current) || new XDate());\n    const visibleMonth = useRef(currentMonth);\n    const items = useMemo(() => {\n        const months = [];\n        for (let i = 0; i <= pastScrollRange + futureScrollRange; i++) {\n            const rangeDate = initialDate.current?.clone().addMonths(i - pastScrollRange, true);\n            months.push(rangeDate);\n        }\n        return months;\n    }, [pastScrollRange, futureScrollRange]);\n    const staticHeaderStyle = useMemo(() => {\n        return [style.current.staticHeader, headerStyle];\n    }, [headerStyle]);\n    const listStyle = useMemo(() => {\n        return [style.current.container, propsStyle];\n    }, [propsStyle]);\n    const initialDateIndex = useMemo(() => {\n        return findIndex(items, function (item) {\n            return item.toString() === initialDate.current?.toString();\n        });\n    }, [items]);\n    useEffect(() => {\n        if (current) {\n            scrollToMonth(new XDate(current));\n        }\n    }, [current]);\n    useDidUpdate(() => {\n        const currMont = currentMonth?.clone();\n        if (currMont) {\n            const data = xdateToData(currMont);\n            onMonthChange?.(data);\n            onVisibleMonthsChange?.([data]);\n        }\n    }, [currentMonth]);\n    const scrollToDay = (date, offset, animated) => {\n        const scrollTo = parseDate(date);\n        const diffMonths = Math.round(initialDate?.current?.clone().setDate(1).diffMonths(scrollTo?.clone().setDate(1)));\n        let scrollAmount = calendarSize * pastScrollRange + diffMonths * calendarSize + (offset || 0);\n        if (!horizontal) {\n            let week = 0;\n            const days = page(scrollTo, firstDay);\n            for (let i = 0; i < days.length; i++) {\n                week = Math.floor(i / 7);\n                if (sameDate(days[i], scrollTo)) {\n                    scrollAmount += 46 * week;\n                    break;\n                }\n            }\n        }\n        if (scrollAmount !== 0) {\n            // @ts-expect-error\n            list?.current?.scrollToOffset({ offset: scrollAmount, animated });\n        }\n    };\n    const scrollToMonth = useCallback((date) => {\n        const scrollTo = parseDate(date);\n        const diffMonths = Math.round(initialDate?.current?.clone().setDate(1).diffMonths(scrollTo?.clone().setDate(1)));\n        const scrollAmount = calendarSize * pastScrollRange + diffMonths * calendarSize;\n        if (scrollAmount !== 0) {\n            // @ts-expect-error\n            list?.current?.scrollToOffset({ offset: scrollAmount, animated: animateScroll });\n        }\n    }, [calendarSize]);\n    const addMonth = useCallback((count) => {\n        const day = currentMonth?.clone().addMonths(count, true);\n        if (sameMonth(day, currentMonth)) {\n            return;\n        }\n        scrollToMonth(day);\n        setCurrentMonth(day);\n    }, [currentMonth, scrollToMonth]);\n    const getMarkedDatesForItem = useCallback((item) => {\n        if (markedDates && item) {\n            for (const [key, _] of Object.entries(markedDates)) {\n                if (sameMonth(new XDate(key), new XDate(item))) {\n                    return markedDates;\n                }\n            }\n        }\n    }, [markedDates]);\n    const getItemLayout = useCallback((_, index) => {\n        return {\n            length: calendarSize,\n            offset: calendarSize * index,\n            index\n        };\n    }, []);\n    const isDateInRange = useCallback((date) => {\n        for (let i = -range.current; i <= range.current; i++) {\n            const newMonth = currentMonth?.clone().addMonths(i, true);\n            if (sameMonth(date, newMonth)) {\n                return true;\n            }\n        }\n        return false;\n    }, [currentMonth]);\n    const renderItem = useCallback(({ item }) => {\n        const dateString = toMarkingFormat(item);\n        const [year, month] = dateString.split('-');\n        const testId = `${testID}.item_${year}-${month}`;\n        return (<CalendarListItem {...calendarProps} testID={testId} markedDates={getMarkedDatesForItem(item)} item={item} style={calendarStyle} \n        // @ts-expect-error - type mismatch - ScrollView's 'horizontal' is nullable\n        horizontal={horizontal} calendarWidth={calendarWidth} calendarHeight={calendarHeight} scrollToMonth={scrollToMonth} visible={isDateInRange(item)}/>);\n    }, [horizontal, calendarStyle, calendarWidth, testID, getMarkedDatesForItem, isDateInRange, calendarProps]);\n    const renderStaticHeader = () => {\n        if (staticHeader && horizontal) {\n            return (<CalendarHeader {...headerProps} testID={`${testID}.staticHeader`} style={staticHeaderStyle} month={currentMonth} addMonth={addMonth} accessibilityElementsHidden={true} // iOS\n             importantForAccessibility={'no-hide-descendants'} // Android\n            />);\n        }\n    };\n    /** Viewable month */\n    const viewabilityConfig = useRef({\n        viewAreaCoveragePercentThreshold: 20\n    });\n    const onViewableItemsChanged = useCallback(({ viewableItems }) => {\n        const newVisibleMonth = parseDate(viewableItems[0]?.item);\n        if (!sameDate(visibleMonth?.current, newVisibleMonth)) {\n            visibleMonth.current = newVisibleMonth;\n            setCurrentMonth(visibleMonth.current);\n        }\n    }, []);\n    const viewabilityConfigCallbackPairs = useRef([\n        {\n            viewabilityConfig: viewabilityConfig.current,\n            onViewableItemsChanged\n        },\n    ]);\n    return (<View style={style.current.flatListContainer} testID={testID}>\n      <FlatList \n    // @ts-expect-error\n    ref={list} style={listStyle} showsVerticalScrollIndicator={showScrollIndicator} showsHorizontalScrollIndicator={showScrollIndicator} data={items} renderItem={renderItem} getItemLayout={getItemLayout} initialNumToRender={range.current} initialScrollIndex={initialDateIndex} viewabilityConfigCallbackPairs={viewabilityConfigCallbackPairs.current} testID={`${testID}.list`} onLayout={onLayout} removeClippedSubviews={removeClippedSubviews} pagingEnabled={pagingEnabled} scrollEnabled={scrollEnabled} scrollsToTop={scrollsToTop} horizontal={horizontal} keyboardShouldPersistTaps={keyboardShouldPersistTaps} keyExtractor={keyExtractor} onEndReachedThreshold={onEndReachedThreshold} onEndReached={onEndReached} nestedScrollEnabled={nestedScrollEnabled} onMomentumScrollBegin={onMomentumScrollBegin} onMomentumScrollEnd={onMomentumScrollEnd} onScrollBeginDrag={onScrollBeginDrag} onScrollEndDrag={onScrollEndDrag}/>\n      {renderStaticHeader()}\n    </View>);\n};\nexport default forwardRef(CalendarList);\nCalendarList.displayName = 'CalendarList';\nCalendarList.propTypes = {\n    ...Calendar.propTypes,\n    pastScrollRange: PropTypes.number,\n    futureScrollRange: PropTypes.number,\n    calendarWidth: PropTypes.number,\n    calendarHeight: PropTypes.number,\n    calendarStyle: PropTypes.oneOfType([PropTypes.object, PropTypes.number, PropTypes.array]),\n    staticHeader: PropTypes.bool,\n    showScrollIndicator: PropTypes.bool,\n    animateScroll: PropTypes.bool,\n    scrollEnabled: PropTypes.bool,\n    scrollsToTop: PropTypes.bool,\n    pagingEnabled: PropTypes.bool,\n    horizontal: PropTypes.bool,\n    keyboardShouldPersistTaps: PropTypes.oneOf(['never', 'always', 'handled']),\n    keyExtractor: PropTypes.func,\n    onEndReachedThreshold: PropTypes.number,\n    onEndReached: PropTypes.func,\n    nestedScrollEnabled: PropTypes.bool\n};\n"]},"metadata":{},"sourceType":"module"}